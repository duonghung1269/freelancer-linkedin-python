(function(){var e=LIModules.requires("jquery"),c=LIModules.requires("underscore"),b=LIModules.requires("BaseControl"),d=LIModules.requires("Events"),b=b.extend(function(){var b;b={$charCountEl:null,countPlaceholder:null,maxCharLimit:null,maxCharLimitClass:null,minCharLimit:null,minCharLimitClass:null,showNetCount:!1,showNumViolated:!1};return{beforeDecoration:function(){var a=c.defaults(this._config,b);this.text="";this.numViolated=this.charCount=0;this.CUSTOM_EVENT_ON_TEXT_CHANGE="LI.TextCount.ON_TEXT_CHANGE";
this.showNetCount=a.showNetCount;this.showNumViolated=a.showNumViolated;null!==a.maxCharLimit&&(this.maxCharLimit=a.maxCharLimit,this.maxCharLimitClass=a.maxCharLimitClass,this.isViolateMaxLimit=!1);null!==a.minCharLimit&&(this.minCharLimit=a.minCharLimit,this.minCharLimitClass=a.minCharLimitClass,this.isViolateMinLimit=!1);this.$charCountEl=a.$charCountEl;a.countPlaceholder&&(this.charCountElTemplate=this.$charCountEl.html(),this.countPlaceholder=a.countPlaceholder);this._$liveRegion=e("#"+this._$el.attr("aria-controls"));
if(this._liveRegionExists=this._$liveRegion.length)this._liveRegionContent=c.escape(this._$liveRegion.text()),this._$liveRegion.empty();this.calculateRemainingChars();this._updateCharCount();this._updateCharCountText()},attachEventListeners:function(){this._$el.keyup(this.onTextChange)},onTextChange:function(a){this._updateCharCount();if("undefined"!==typeof this.minCharLimit&&(this.isViolateMinLimit=this.charCount<this.minCharLimit,this.numViolated=this.minCharLimit-this.charCount,this.minCharLimitClass&&
this._updateCharLimitMarkup(this.minCharLimitClass,this.isViolateMinLimit),this.isViolateMinLimit)){d.trigger("LI.TextCount.ON_TEXT_CHANGE",a);return}this.calculateRemainingChars();this._updateCharCountText();d.trigger("LI.TextCount.ON_TEXT_CHANGE",a)},calculateRemainingChars:function(){"undefined"!==typeof this.maxCharLimit&&(this.isViolateMaxLimit=this.charCount>this.maxCharLimit,this.numViolated=this.showNetCount?this.maxCharLimit-this.charCount:this.charCount-this.maxCharLimit,this.maxCharLimitClass&&
this._updateCharLimitMarkup(this.maxCharLimitClass,this.isViolateMaxLimit))},_updateCharCount:function(){this.text=this._$el.val();this.charCount=this.text.length},_updateCharCountText:function(){var a=this._getFormattedCharCount();this.countPlaceholder?(a=this.charCountElTemplate.slice().replace(this.countPlaceholder,a),this.$charCountEl.html(a)):this.$charCountEl.text(a)},_updateCharLimitMarkup:function(a,b){var c;b?(this._$el.addClass(a),this.$charCountEl.addClass(a),this._liveRegionExists&&(c=
this._liveRegionContent.slice().replace(this.countPlaceholder,this.numViolated),this._$liveRegion.text(c))):(this._$el.removeClass(a),this.$charCountEl.removeClass(a),this._liveRegionExists&&this._$liveRegion.empty())},_getFormattedCharCount:function(){return this.showNumViolated?this.numViolated:this.charCount}}});LIModules.exports("TextCount",b)})();(function(h){var k=h.requires("jquery"),s=h.requires("underscore"),q=h.requires("BaseControl"),r=h.requires("i18n"),t=h.imports("injectAlert")||function(){},q=q.extend(function(){var h={incommonEndpoint:"vsearch/ij"},p={expansion:r.get("VoltronSearch-expansion-error-text"),action:r.get("VoltronSearch-action-error"),connect:r.get("VoltronSearch-connect-error")};return{beforeDecoration:function(){this._config=s.defaults(this._config,h);this.pymkEnabled=this._config.pymkEnabled;this.connectionRequestLimit=
parseInt(this._config.connectionRequestLimit.replace("n",""),10);this.loadedPYMKModule=!1;this._$survey=this._$el.find(".srp-survey");this._connectionRequestsSent=0;this.showSurvey()},attachEventListeners:function(){var a=this;this._$el.on("click",function(b){var c=k(b.target),d=c.parents("[data-li-result-interaction]"),e=k("#srp-feedback-field"),f=!0,c=d.length?d:c;if(d=c.data("li-result-interaction")){switch(d){case "expando":a.toggleExpansion(c,"people");break;case "teamlink-expando":a.toggleExpansion(c,
"teamlink");break;case "save-profile":case "save-job":case "like-article":a.toggleAction(c,d,!1);break;case "follow-influencer-no-swap":a.fireAndReplace(c);break;case "follow-company":case "follow-university":case "follow-influencer":a.toggleAction(c,d,!0);break;case "instant-connect":a._connectionRequestLimitExceeded()?f=!1:a.sendConnectionRequest(c);break;case "pymk-connect":a._connectionRequestLimitExceeded()?f=!1:a.sendConnectionRequest(c,c.parents(".connect-container"));break;case "dismiss-pymk":a.removePYMKModule(c);
break;case "survey-yes":a.handleSurveyAnswer(c,"thanks");break;case "survey-no":a.handleSurveyAnswer(c,"feedback");break;case "feedback-submit":e.hasClass("error")||(WebTracking.trackUserAction("vsrp_survey_feedback",{searchId:LI.SearchTracking.vars.searchId,feedback:e.val()},!0),a.handleSurveyAnswer(c,"thanks"));break;case "feedback-cancel":a.handleSurveyAnswer(c,"thanks");break;case "survey-dismiss":a.dismissSurvey()}f&&b.preventDefault()}})},handleError:function(a,b){var c=b.message||"",d=b.type||
"global",e=b.position||"after",f=k(".inline-error",a);a&&a.removeClass("loading");"global"===d?t(c):"inline"===d&&a&&(0<f.length&&f.remove(),d=document.createElement("div"),k(d).addClass("inline-error").text(c),d='\x3cdiv class\x3d"inline-error"\x3e'+c+"\x3c/div\x3e","before"===e?a.prepend(d):"after"===e&&a.append(d))},toggleExpansion:function(a,b){var c=this,d=a.parents(".related-wrapper"),e=LI.SearchTracking&&LI.SearchTracking.vars&&LI.SearchTracking.vars.searchId||"",f,l,g,m,h,n;b=b||"people";
d.length&&(d.toggleClass("collapsed"),d.hasClass("collapsed")||d.find(".shared-connections").length||(f=a.data("liSharedconnTkn"),l=d.find(".expansion-container"),g=l.find("\x3e .inline-error"),l.addClass("loading"),f||"people"!==b?(d=a.data("liSharedconnIds"),n=a.data("liTlisv2")||"",m=a.data("liTrkCode")||"",h=a.data("liHitId")||"",e=k.ajax({url:"/vsearch/ij",type:"POST",headers:{"X-IsAJAXForm":"1"},data:{type:b,ids:d,tkn:f,tl:"tl/apps/search/voltron/partial/expansion_ajax",searchId:e,trkCode:m,
hitId:h,tlisv2:n}})):(d=a.data("liSharedconnEntityType"),f=a.data("liSharedconnEntityId"),e=k.ajax({url:"/vsearch/iccj",data:{searchId:e,type:d,id:f,tl:"tl/apps/search/voltron/partial/expansion_ajax"}})),e.done(function(a){l.removeClass("loading");g.length&&g.remove();dust.render("tl/apps/search/voltron/partial/expansion_ajax",a.content,function(a,b){var c=b+l.html();l.html(c)})}).fail(function(){c.handleError(l,{message:p.expansion,type:"inline",position:"before"})})))},toggleAction:function(a,b,
c){var d=this,e=a.parents(".bd"),f=e.children(".inline-error"),l=a.attr("href").split("?");k.ajax({type:"POST",headers:{"X-IsAJAXForm":"1"},url:l[0],data:l[1]+"\x26ajax\x3d",success:function(g){var m,h,n;if(g&&g.responseXML&&"function"===typeof g.responseXML.getElementsByTagName&&(g=g.responseXML.getElementsByTagName("responseInfo")[0].firstChild.nodeValue,"SUCCESS"!==g)){d.handleError(e,{message:p.action,type:"inline",position:"after"});return}m=a.html();h=l.join("?");g=k("h3 .badges",a.parents("[data-li-entity-id]"));
n=k("."+b+"-badge",g);0<f.length&&f.remove();a.html(a.data("li-anti-text"));a.data("li-anti-text",m);a.attr("href",a.data("li-anti-href"));a.data("li-anti-href",h);0<n.length?n.toggle():(m=a.data("li-badge-skip-initial"),"true"===m?a.data("li-badge-skip-initial","false"):g.append('\x3cspan class\x3d"'+b+'-badge text-badge"\x3e'+a.data("li-badge-text")+"\x3c/span\x3e"));c&&d.swapPrimaryAction(a)},error:function(a,b,c){d.handleError(e,{message:p.action,type:"inline",position:"after"})}})},swapPrimaryAction:function(a){var b=
a.parents(".srp-actions"),c=b.find("ul li")[0],b=b.find(".primary-action-button");a.hasClass("primary-action-button")&&(b=a,a=k("a",c));b.removeClass("primary-action-button");b.removeClass("label");a.addClass("primary-action-button");a.addClass("label");a.insertBefore(b);c.appendChild(b[0])},sendConnectionRequest:function(a,b){var c=this,d=a.data("liConnectHref")||a.attr("href"),e,f,l,g;e=b?b:a;l=e.parents(".bd");f=e.parents(".result");g=f.children(".inline-error");e.addClass("loading");d=k.ajax({type:"GET",
headers:{"X-IsAJAXForm":"1"},url:d}).done(function(b){b&&b.redirectUrl?window.location.href=b.redirectUrl:(b=a.data("li-success-text"),0<g.length&&g.remove(),e.text(b),e.removeClass("loading"),e.addClass("invite-sent"),c._connectionRequestsSent++)}).fail(function(){e.removeClass("loading");c.handleError(l,{message:p.connect,type:"global"});return!1});this.pymkEnabled&&this.loadPYMKModule(a.data("li-pymk"),f,d)},_connectionRequestLimitExceeded:function(){var a=this._getCurrentUrl(),a=/page_num=(\d+)/.exec(a),
a=!(a&&"1"!==a[1]);return this._connectionRequestsSent>=this.connectionRequestLimit||!a&&this._config.instantConnectOnlyOnFirstPage?!0:!1},_getCurrentUrl:function(){return window.location.href},loadPYMKModule:function(a,b,c){a+="\x26tl\x3dtl/apps/search/voltron/partial/result_pymk";var d=k('\x3cli class\x3d"pymk mod result"\x3e\x3c/li\x3e'),e=this;this.loadedPYMKModule||(d.insertAfter(b).addClass("loading"),c.then(function(){d.addClass("show")}),k.ajax({type:"GET",headers:{"X-IsAJAXForm":"1"},url:a}).done(function(a){a=
a.content;e.loadedPYMKModule=!0;a.voltron_pymk_json&&dust.render("tl/apps/search/voltron/partial/result_pymk",a,function(a,b){b&&(d.removeClass("loading"),d.html(b))})}).fail(this.removePYMKModule))},removePYMKModule:function(){this._$el.find(".result.pymk").remove()},handleSurveyAnswer:function(a,b){var c=a.parents(".srp-survey");b=b||"thanks";"thanks"===b?(c.addClass("show-thanks"),c.removeClass("show-feedback"),this._$el.addClass("survey-responded")):"feedback"===b&&(c.removeClass("show-thanks"),
c.addClass("show-feedback"));this._$el.removeClass("show-survey");this.setSurveyResponseTime()},showSurvey:function(){var a,b;window.localStorage&&(a=new Date,b=(b=window.localStorage.getItem("srpSurveyResponseTime"))?new Date(b):a,b.setDate(b.getDate()+1),a>=b&&(this._$el.addClass("show-survey"),"undefined"!==typeof WebTracking&&WebTracking.trackUserAction("vsrp_survey_impression",{searchId:LI.SearchTracking.vars.searchId},!0)))},dismissSurvey:function(){this._$survey.length&&(this._$survey.remove(),
this._$el.removeClass("show-survey"));this.setSurveyResponseTime()},setSurveyResponseTime:function(){window.localStorage&&window.localStorage.setItem("srpSurveyResponseTime",new Date)},fireAndReplace:function(a){var b=a.attr("href"),c=a.data("li-anti-text"),d=a.parent(),e=this;k.ajax({type:"GET",headers:{"X-IsAJAXForm":"1"},url:b}).done(function(a){d.html(c)}).fail(function(){e.handleError(null,{message:p.action,type:"global"})})}}});h.exports("Search.Voltron.ResultInteraction",q)})(window.LIModules);(function(b){var c=b.requires("jquery"),d=b.requires("BaseControl").extend(function(){return{attachEventListeners:function(){var a=c(this._config.hoverableSelectors,this._$el),b=this;a.on("mouseover",function(a){a.stopPropagation();b.addHoverClass(a.target)});a.on("mouseout",function(a){a.stopPropagation();b.removeHoverClass(a.target)})},addHoverClass:function(a){c(a).addClass("hover")},removeHoverClass:function(a){c(a).removeClass("hover")}}});b.exports("AddHover",d)})(window.LIModules);(function(b){LIModules.exports("Search.Voltron.AddRecruiterLink",function(b,a){YEvent.onDOMReady(function(){dust.render("recruiter_message",a,function(b,a){LI.injectAlert(a,"notice",YDom.get("global-error"),!0,!1,null)})})})})(window.require);(function(a){var d=a.requires("jquery"),c=a.requires("BaseControl"),f=a.requires("WebTracking"),h=a.requires("underscore"),c=c.extend(function(){var a=d.camelCase("li-trk-code");return{init:function(a,b){d(a).on("click","[data-li-trk-code]",d.proxy(this.track,this))},track:function(e){var b=d(e.currentTarget),c=b.data(a);e=b.data("liTrkPageKey");var g={};c.length&&"undefined"!==typeof f&&(b=f.createRequestData(c,this.getParamsList(b),!0),e&&(h.each(b.split("\x26"),function(a){var b=a.split("\x3d");
a=b.shift();b=b.length?b.join("\x3d"):null;g[a]=b}),g.pkey=e,b=d.param(g)),f.track(b))},getParamsList:function(a){return{}}}});a.exports("WaffleTracking",c);a.exports("waffleTracking",new c(document))})(window.LIModules);(function(){LIModules.imports("WaffleTracking").prototype.getParamsList=function(a){var b={},c,d;b.searchId=LI.SearchTracking.vars.searchId||"";a.hasClass("shared-conn-expando")?(c=a.parents("[data-li-entity-id]"),d=a.parents(".related-wrapper"),b.value=a.data("li-shared-conn-count"),b["entity-id"]=c.data("li-entity-id"),b.position=c.data("li-position"),b.action=d.hasClass("collapsed")?"collapse":"expand"):a.hasClass("remove-pivot")?(c=a.parents("[data-li-pivot-facet-value]"),0<c.length&&(b.value=
c.data("li-pivot-facet-value"),b.type=a.data("li-trk-facet-type"))):a.hasClass("facet-toggle")?(c=a.parents(".facet"),b.action=c.hasClass("collapsed")?"collapse":"expand"):a.hasClass("facet-value-checkbox")?(b.value=a.attr("value"),b.action=a.is(":checked")?"select":"deselect"):a.hasClass("slideshare-card")?(b["slideshare-id"]=a.data("li-slideshare-id"),b.position=a.data("li-position"),b["in-cluster-position"]=a.data("li-in-cluster-position")):a.hasClass("more-cluster-results")?b.position=a.data("li-position"):
a.hasClass("slideshare-flag")&&(b["slideshare-id"]=a.data("li-slideshare-id"));return b}})();(function(c){var f=c.requires("jquery"),g=c.requires("underscore"),e=c.requires("BaseControl").extend(function(){return{attachEventListeners:function(){var a=this;this._$el.on("submit",function(d){d.preventDefault();a._handleFormSubmit()})},_handleFormSubmit:function(){var a=this._$el,d=a.attr("method"),b=a.attr("data-li-action")||a.attr("action"),a=a.serialize(),c=g.bind(this._successCallback,this),e=g.bind(this._failureCallback,this);if(!this._validateForm())return!1;-1<b.indexOf("?")&&(b=b.split("?"),
a=b[1]+"\x26"+a,b=b[0]);f.ajax({type:d,beforeSend:this._beforeSend,url:b,data:a}).done(c).fail(e)},_showError:function(a,c){var b=a.attr("aria-describedby"),b=f("#"+b);a.addClass("error");b.addClass("show");c&&b.html(c)},_validateForm:function(){return!0},_successCallback:function(a){},_failureCallback:function(a){},_beforeSend:function(a){}}});c.exports("AJAXFormSubmit",e)})(window.LIModules);(function(a){var b=a.requires("jquery"),c=a.requires("underscore"),l=a.requires("dust");a.imports("Controls");var e=a.requires("BaseControl"),p=a.requires("i18n"),q=a.imports("Controls.parseFragment")||function(){},h=a.imports("environment"),n=a.imports("LiX"),m=a.imports("jSecure"),f=null,r=function(b){f&&"function"===typeof f&&f();f=b},k=function(){},e=e.extend(function(a){function e(){for(var g=[{key:"errorMessage",value:"dialogbox_error_generic"},{key:"closeText",value:"dialogbox_close"},{key:"startText",
value:"dialogbox_start"},{key:"endText",value:"dialogbox_end"}],b=g.length,d=0,a={},c="";d<b;d++)(c=p.get(g[d].value))&&(a[g[d].key]=c);return a}var f={width:500,top:150,xOffset:0,yOffset:0,errorMessage:"We're sorry. Something unexpected happened and your request could not be completed. Please try again.",closeText:"Close",startText:"Dialog start",endText:"Dialog end",customClassName:void 0,dialogTemplate:"tl/shared/dialog",dialogCss:h&&h.consumer2?["css!scss/modules/dialog/dialog_standalone"]:["css!scss/modules/dialog_v3"],
cssDependencies:null,templateDataUrl:null,centerVertically:!1,fitDialogBoxToWindow:!0,callbacks:{beforeOpen:k,afterOpen:k,beforeClose:k,afterClose:k}};return{beforeDecoration:function(){this._$dialog=void 0;this._config=c.defaults(this._config,e(),f);this._config.callbacks=c.defaults(this._config.callbacks,f.callbacks);this._requiredTemplates=[this._config.dialogTemplate];this._requiredCSS=c.flatten(c.compact([this._config.dialogCss,this._config.cssDependencies]));this._href=this._config.templateDataUrl||
this._$el.data("href")||this._$el.attr("href")},attachEventListeners:function(){this._$el.on("click",c.bind(this._eventOpen,this))},detachEventListeners:function(){this._$el.off("click")},onResolve:function(b){this.open()},_eventOpen:function(b){b.preventDefault();this.open()},_eventClose:function(b){b.preventDefault();this.close()},_keyupHandler:function(b){27===b.which&&this._eventClose(b)},_resizeHandler:c.throttle(function(b){this._$dialog&&this._$dialog.length&&(this._$dialog.css(this._getPosition()),
this._fitToWindow())},500),_attachEventListeners:function(){this._$dialog.on("click",".dialog-close",this._eventClose);b(document).on("keyup",this._keyupHandler);b(window).on("resize",this._resizeHandler)},open:function(){if(!this._opened)return this._config.callbacks.beforeOpen(this),this._opened=!0,b.when(this.loadDependencies(this._requiredTemplates),this.loadCss(this._requiredCSS)).then(r(c.bind(this.close,this))).then(c.bind(this._render,this)).then(c.bind(this.setFocusToDialog,this)).then(c.bind(function(){this._config.callbacks.afterOpen(this)},
this)).fail(c.bind(this.close,this))},close:function(){this._opened&&this._config.callbacks.beforeClose(this);this._$dialog&&this._$dialog.remove();this._rendered=!1;b(document).off("keyup",this._keyupHandler);b(window).off("resize",this._resizeHandler);this._opened&&(this._opened=!1,this._$el.focus(),this._config.callbacks.afterClose(this))},destroy:function(){this.close();this.detachEventListeners();a.destroy.apply(this,arguments)},setFocusToDialog:function(){this._$dialog.attr("tabindex",-1);this._$dialog.focus()},
_loadContent:function(){var g=b(this._href),a=g.html(),d=new b.Deferred;g[0]||!this._href?d.resolve(a):d.reject();return d.promise()},_buildMarkup:function(){return this._renderDialogMarkup().then(this._renderMarkUpSuccess,this._renderMarkUpFailure)},_renderMarkUpSuccess:function(a){this._$dialog=b(a).prop("id","modeless-dialog");this._config.customClassName&&this._$dialog.addClass(this._config.customClassName);b("body").append(this._$dialog);this._$dialog.css(this._getPosition());this._rendered=
!0},_renderMarkUpFailure:function(){throw Error("Unable to render dialog markup");},_loadContentSuccess:function(b){this.setDialogBodyContent(b)},_loadContentFail:function(){this.setDialogBodyContent(this._config.errorMessage)},setDialogBodyContent:function(a,c){var d=this._$dialog.find(".dialog-body")[0];c=c||{};var h=m&&m.setElementContent;!c.isUnsafe&&n&&"enabled"===n.get("jsecure_Dialog")&&h?m.setElementContent(d,a,{}):b(d).html(a);q(this._$dialog);this._$dialog.css(this._getPosition());this._fitToWindow()},
_render:function(){return this._buildMarkup().then(this._loadContent).then(this._loadContentSuccess,this._loadContentFail).always(this._attachEventListeners)},_renderDialogMarkup:function(){var a=new b.Deferred;l.render(this._config.dialogTemplate,this._config,function(b,c){b?a.reject(b):a.resolve(c)});return a.promise()},_getPosition:function(){var a=b(window),c=this._config.top,d=a.innerWidth()/2-this._config.width/2+this._config.xOffset;this._config.centerVertically&&(c=a.innerHeight()/2-this._$dialog.outerHeight()/
2+this._config.yOffset,c=Math.max(c,this._config.top));return{left:d,top:c}},_fitToWindow:function(){var a=b(window).innerHeight()-this._config.top-50,c=this._$dialog.find(".dialog-title").outerHeight(),d;d=this._$dialog.clone().css("visibility","hidden");d.find(".dialog-body").height("auto");b("body").append(d);d.height()>a&&this._config.fitDialogBoxToWindow?this._$dialog.find(".dialog-body").height(a-c):this._$dialog.find(".dialog-body").height("auto");d.remove()}}});a.exports("DialogBox",e)})(window.LIModules);
(function(a){var b=a.requires("jquery"),c=a.requires("underscore"),l=a.requires("dust"),e=a.requires("DialogBox").extend(function(a){var e={maskTemplate:"tl/shared/dialog_mask",fitToWindow:!0,closeOnMaskClick:!0};return{beforeDecoration:function(){a.beforeDecoration.call(this);this._config=c.defaults(this._config,e);this._requiredTemplates=[this._config.maskTemplate,this._config.dialogTemplate];this._requiredCSS=c.flatten(c.compact([this._config.dialogCss,this._config.cssDependencies]));this._initialHtmlOverflowValue=
this._$mask=void 0;this._config.fitToWindow||(this._fitToWindow=function(){})},_maskClickHandler:function(a){b(a.target).is("#dialog-mask")&&this._eventClose(a)},_attachEventListeners:function(){a._attachEventListeners.call(this);if(this._config.closeOnMaskClick)this._$mask.on("click",this._maskClickHandler);b(document).on("focusin",this._trapFocus)},close:function(){this._opened&&this._config.callbacks.beforeClose(this);this._$mask&&this._$mask.remove();b(document).off("keyup",this._keyupHandler);
b(window).off("resize",this._resizeHandler);b("html").css({overflow:this._initialHtmlOverflowValue});this._rendered=!1;this._opened&&(this._opened=!1,this._$el.focus(),this._config.callbacks.afterClose(this))},_buildMarkup:function(){return b.when(this._renderMaskMarkup(),this._renderDialogMarkup()).then(this._renderMarkUpSuccess,this._renderMarkUpFailure)},_renderMarkUpSuccess:function(a,c){this._$mask=b(a);this._$dialog=b(c);this._$mask.append(this._$dialog);this._config.fitToWindow||this._$mask.css({"overflow-y":"auto"});
b("body").append(this._$mask);this._$dialog.css(this._getPosition());this._rendered=!0},_render:function(){this._initialHtmlOverflowValue=b("html").css("overflow");b("html").css({overflow:"hidden"});return this._buildMarkup().then(this._loadContent).then(this._loadContentSuccess,this._loadContentFail).always(this._attachEventListeners)},_renderMaskMarkup:function(){var a=new b.Deferred;l.render(this._config.maskTemplate,this._config,function(b,c){b?a.reject(b):a.resolve(c)});return a.promise()},_trapFocus:function(a){a.stopPropagation();
if(this._opened){if(this._$dialog.is(b(a.target))||0<this._$dialog.has(b(a.target)).length)return!1;this._$dialog.focus()}}}});a.exports("ModalDialogBox",e)})(window.LIModules);(function(){var a=LIModules.requires("DialogBox"),b=LIModules.requires("jquery"),e=LIModules.requires("underscore"),f=LIModules.imports("i18n"),g=LIModules.imports("injectAlert"),a=a.extend(function(a){return{_attachEventListeners:function(){a._attachEventListeners.call(this);b(this._config.enableSelector).on("click",this._enableTeamLink)},_injectAlert:function(){g.apply(this,arguments)},_enableTeamLink:function(){var a=b(this._config.enableSelector).data("liEnableLink"),c=new (LIModules.imports("Voltron.Processing")||
LI&&LI.ProcessingOverlay||function(){})(b("#srp_main_")[0],{}),d;c.show();a&&b.get(a).then(e.bind(function(){c.hide();this._config.oldTeamlink?LI.SearchFacets.CustomEvents.enableTeamLink.fire({action:"add",param:"openFacets",value:"TL"}):(d=LIModules.imports("voltronStateControl"),d.updateState({action:"add",target:"openFacets",value:"TL"}))},this)).fail(this._handleTeamLinkError)},_handleTeamLinkError:function(){this._injectAlert(f.get("VoltronSearch-teamlink-enable-error-text"),"error",null,!1,
!0)}}});LIModules.exports("TeamLinkDialog",a)})();LI.define("SearchFacets");LI.SearchFacets={};LI.define("SearchFacets.Mediator");
LI.SearchFacets.Mediator=function(c,a){var b=LI.SearchFacets.Events,d="undefined"===typeof a.showProcessingOnAjax?!0:a.showProcessingOnAjax;this.subscriptions=a.initialSubscriptions||{};this.query=a.initialQuery||{};this.facetsEl=a.facetsEl?YDom.get(a.facetsEl):YDom.get("facets");this.resultsEl=a.resultsEl?YDom.get(a.resultsEl):YDom.get("results");this.facetsUrl=a.facetsUrl?a.facetsUrl:"facetsAjax";this.facetsForm=a.facetsFormEl?YDom.get(a.facetsFormEl):"";this.pageNumStr=a.pageNumStr?a.pageNumStr:
"";this.expandFacetUrl=a.expandFacetUrl?a.expandFacetUrl:"expandfacet";this.resultsUrl=a.resultsUrl?a.resultsUrl:"resultsAjax";this.scrollTopOnNewResults=null!=a.scrollTopOnNewResults?a.scrollTopOnNewResults:!0;this.useSingleAjax=null!=a.useSingleAjax?a.useSingleAjax:!0;this.responseType=a.responseType?a.responseType:"json";this.htmlResponseFacetId=a.htmlResponseFacetId?a.htmlResponseFacetId:"#facets";this.htmlResponseResultsId=a.htmlResponseResultsId?a.htmlResponseResultsId:"#results";this.additionalFields=
a.additionalFields?a.additionalFields:"";this.historyUrl=a.historyUrl?a.historyUrl:"";this.useHistory=a.useHistory?a.useHistory:"";this.facetOrigParamValue=a.facetOrigParamValue?a.facetOrigParamValue:"";this.lastTransactionId=0;this.paywallData=a.paywallData||"";this.profinderPromoData=a.profinderPromoData||"";this.profinderPromoIdx=a.profinderPromoIdx||0;this.isFuseRestricted=a.isFuseRestricted||!1;this.network=new LI.SearchFacets.Network(null,{mediator:this,facetsUrl:this.facetsUrl,expandFacetUrl:this.expandFacetUrl,
resultsUrl:this.resultsUrl,useSingleAjax:this.useSingleAjax,responseType:this.responseType,actionPath:this.getActionPath(),historyUrl:this.historyUrl,useHistory:this.useHistory});this.facets=new LI.SearchFacets.Facets(this.facetsEl,{mediator:this,additionalFields:this.additionalFields,facetOrigParamValue:this.facetOrigParamValue});this.results=new LI.SearchFacets.Results(this.resultsEl,{mediator:this,scrollTopOnNewResults:this.scrollTopOnNewResults,paywallData:this.paywallData,profinderPromoData:this.profinderPromoData,
profinderPromoIdx:this.profinderPromoIdx,isFuseRestricted:this.isFuseRestricted});this.sub(b.ajaxSuccess,this.ajaxSuccess);this.sub(b.ajaxFailure,this.ajaxFailure);d&&(this.sub(b.ajaxStart,this.facets.showProcessing),this.sub(b.ajaxFailure,this.facets.hideProcessing));this.sub(b.newFacets,this.facets.newFacets,this.facets);this.sub(b.facetUpdated,this.facetChange);this.sub(b.tryFacetChange,this.tryParamChange);this.sub(b.facetExpand,this.checkDirty);this.sub(b.superPivotRemove,this.superPivotChange);
d&&(this.sub(b.ajaxStart,this.results.showProcessing),this.sub(b.ajaxFailure,this.results.hideProcessing));this.sub(b.newResults,this.results.handleNewResults,this.results)};LI.SearchFacets.Mediator.prototype.facetChange=function(c){this.pageNumStr&&c.push({action:"reset",param:this.pageNumStr});this.paramChange(c)};LI.SearchFacets.Mediator.prototype.superPivotChange=function(c){this.pageNumStr&&c.push({action:"reset",param:this.pageNumStr});this.paramChange(c)};
LI.SearchFacets.Mediator.prototype.paramChange=function(c){var a,b=c.length,d=[],e=[],f,g=LI.SearchFacets.Events;for(a=0;a<b;a++)f=c[a].action,"add"===f?d.push(c[a]):"remove"!==f&&"reset"!==f||e.push(c[a]);d.length&&this.pub(g.facetSelected,d);e.length&&this.pub(g.facetUnselected,e);this.updateQuery(c);this.network.facet(this.getQueryString())};
LI.SearchFacets.Mediator.prototype.tryParamChange=function(c){var a,b,d;b=0;for(d=c.length;b<d;b++)a=c[b],"remove"===a.action&&void 0!==this.query[a.param]&&this.facets.checkboxDeselect(a.checkboxId)};
LI.SearchFacets.Mediator.prototype.ajaxSuccess=function(c){var a;a=c.response;var b=LI.SearchFacets.Events;this.enableErrorHandling&&LI.removeAlert();"json"===this.responseType?this.lastTransactionId!==c.transactionId&&this.lixFastFacets||(a.facets&&this.pub(b.newFacets,a.facets),a.results&&this.pub(b.newResults,a.results)):(c=Y$(this.htmlResponseResultsId,a,!0),a=Y$(this.htmlResponseFacetId,a,!0),c?this.pub(b.newResults,{html:c.innerHTML}):a&&this.pub(b.newFacets,{html:a.innerHTML}))};
LI.SearchFacets.Mediator.prototype.ajaxFailure=function(c){this.enableErrorHandling&&(LI.injectAlert(c,"error",null,!0,!0),window.scrollTo(0,0))};LI.SearchFacets.Mediator.prototype.checkDirty=function(c){var a;c&&c.dirty&&(this.updateQuery([{action:"add",param:"openFacets",value:c.categoryId}]),a=this.getQueryString(),this.updateQuery([{action:"remove",param:"openFacets",value:c.categoryId}]),this.network.getFacets(a,c.categoryId))};
LI.SearchFacets.Mediator.prototype.bootstrapQuery=function(c){if(c){c=c.split("\x26");var a=[],b,a=[],d,e,f;e=0;for(f=c.length;e<f;e++)a=c[e].split("\x3d"),b=a[0],a=a[1]?decodeURIComponent(a[1].replace(/\+/g," ")).split(","):[],d=a.length,void 0===this.query[b]&&(this.query[b]=[]),d&&(this.query[b]=this.query[b].concat(a))}};LI.SearchFacets.Mediator.prototype.resetQuery=function(){this.query={}};
LI.SearchFacets.Mediator.prototype.updateQuery=function(c){var a,b,d,e,f;e=0;for(f=c.length;e<f;e++)if(a=c[e],b=a.action,d=a.value,a=a.param,"add"===b)void 0===this.query[a]&&(this.query[a]=[]),-1===this.query[a].indexOf(d)&&-1===this.query[a].indexOf(encodeURIComponent(d))&&this.query[a].push(d);else if("remove"===b&&void 0!==this.query[a]){for(b=this.query[a].indexOf(d);-1<b;)this.query[a].splice(b,1),b=this.query[a].indexOf(d);for(b=this.query[a].indexOf(encodeURIComponent(d));-1<b;)this.query[a].splice(b,
1),b=this.query[a].indexOf(encodeURIComponent(d))}else"update"===b?this.query[a]=YAHOO.lang.isArray(d)?d:[d]:"reset"===b&&(a?delete this.query[a]:this.query={})};LI.SearchFacets.Mediator.prototype.getQueryString=function(){return this.getQueryStringFromObjectArray(this.query)};LI.SearchFacets.Mediator.prototype.getQueryStringFromObjectArray=function(c){var a=[],b=[],d,e,f,g;for(d in c)if(c.hasOwnProperty(d)){b=[];e=c[d];f=0;for(g=e.length;f<g;f++)b.push(e[f]);0<b.length&&a.push(d+"\x3d"+b.join(" "))}return a.join("\x26")};
LI.SearchFacets.Mediator.prototype.getKeywords=function(){return this.query.keywords?this.query.keywords.join(",")||"":""};LI.SearchFacets.Mediator.prototype.getActionPath=function(){return this.facetsForm?YAHOO.lang.trim(this.facetsForm.action):location.pathname};LI.SearchFacets.Mediator.prototype.pub=function(c,a){var b=[],d,e,f;if(this.subscriptions[c])for(b=this.subscriptions[c],e=0,f=b.length;e<f;e++)d=b[e].scope||this,b[e].callback.apply(d,[a])};
LI.SearchFacets.Mediator.prototype.sub=function(c,a,b){void 0===this.subscriptions[c]&&(this.subscriptions[c]=[]);this.subscriptions[c].push({callback:a,scope:b})};LI.define("SearchFacets.Events");
LI.SearchFacets.Events={ajaxStart:"ajaxStart",ajaxSuccess:"ajaxSuccess",ajaxFailure:"ajaxFailure",newFacets:"newFacets",facetSelected:"facetSelected",facetUnselected:"facetUnselected",tryFacetChange:"tryFacetChange",facetExpand:"facetExpand",facetCollapse:"facetCollapse",facetUpdated:"facetUpdated",newFacetExpand:"newFacetExpand",newFacetExpandFailure:"newFacetExpandFailure",newResults:"newResults"};LI.define("SearchFacets.CustomEvents");LI.SearchFacets.CustomEvents={};LI.define("SearchFacets.Network");
LI.SearchFacets.Network=function(N,m){function A(a){a.verticalType!==d.getVerticalType()&&(d.pub(LI.SearchFacets.Events.verticalTypeChange,{type:a.verticalType}),n=f+a.actionPath,p=f+a.url,q=a.url+"/expandfacet");a.params!==d.getQueryString()&&(d.resetQuery(),d.bootstrapQuery(a.params))}function J(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""}function B(a){var b={};if(!a)return b;a=a.split("?");if(!/^([A-Z-a-z0-9\/-])*$/g.test(a[0]))return b;b.params=1<a.length?a[1]:"";b.actionPath=
1<a.length?a[0]:u(g.pathname);b.verticalType=d.getVerticalType();b.url=b.actionPath+"j";return b}function u(a){var b=a.indexOf("/vsearch"),c=a.indexOf("?"),d="";-1<b?(d=-1<c?a.substr(b,c-b):a.substr(b),d=d.substr(f.length)):d=a;return d}function C(a,b){var c;"string"===typeof a&&(a=B(a));a||(a={},!g.hash||b?a.params=g.search.replace("?","")||"":(c=J(),a=B(c)));a.actionPath=a.actionPath||u(g.pathname);a.verticalType=a.verticalType||d.getVerticalType();a.url=a.url||a.actionPath+"j";return a}function D(){var a=
C()||null;!a||this.currentState&&a.params===this.currentState.params&&a.url===this.currentState.url||(r&&A(a),h(f+a.url,a.params),r=!0)}function K(){var a,b;a=document.documentMode;var c=/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())&&(!a||7>=a);if(s){a=C()||null;if(k)YEvent.on(window,"popstate",D);else"onhashchange"in window&&!c&&(E=!0,YEvent.on(window,"hashchange",D));this.currentState=a;A(a);g.hash?k?l.replaceState({},document.title,f+a.actionPath+"?"+a.state):h(f+a.url,a.params,f+a.actionPath):
r=!0}else a=g.search.replace("?",""),d.bootstrapQuery(a),k&&(YEvent.on(window,"popstate",function(a){(b=a.state)&&b.params&&b.url&&(b.verticalType!==d.getVerticalType()&&(d.pub(LI.SearchFacets.Events.verticalTypeChange,{type:b.verticalType}),n=b.actionPath,p=b.url,q=b.url+"/expandfacet"),d.resetQuery(),d._bootstrapQuery(b.params),h(b.url,b.params))}),d.getQueryString()&&l.replaceState({params:d.getQueryString(),url:g.pathname+"j",verticalType:d.getVerticalType(),actionPath:g.pathname},document.title,
g.href))}function F(a){return a>=G?(G=a,!0):!1}function H(a,b,c){c=c||{};c.success=c.success||L;c.failure=c.failure||I;c.custom=c.custom||{exception:function(){I();return!1}};d.lastTransactionId=++M;a=-1<a.indexOf("?")?a+"\x26"+b:a+"?"+b;LI.asyncRequest("GET",a,{success:c.success,failure:c.failure,custom:c.custom,argument:[d.lastTransactionId],cache:!1})}function L(a){var b;(b=a.argument&&0<a.argument.length?a.argument[0]:null)&&F(b)?"json"===x?(a=a.responseText,d.pub(LI.SearchFacets.Events.ajaxSuccess,
{response:a,transactionId:b})):(b=document.createElement("div"),b.innerHTML=a.responseText,d.pub(LI.SearchFacets.Events.ajaxSuccess,b)):d.pub(LI.SearchFacets.Events.ajaxFailure,v[t])}function I(){d.pub(LI.SearchFacets.Events.ajaxFailure,v[t])}function y(a,b,c){var e;if(s){if(a=u(a),b=u(b),e={params:c,url:a,verticalType:d.getVerticalType(),actionPath:b},!this.currentState||this.currentState.params!==c||this.currentState.url!==a){this.currentState=e;r=!1;if(k)l.pushState({},document.title,f+b+"?"+c);
else if(E){var z=[];z.push(e.actionPath||"f");z.push(e.params||"");e=z.join("?");try{g.hash="#"+e}catch(m){}}r=!0;h(f+a,c,f+b)}}else if(k){if(e=l.state,null===e||void 0===e||e.params!==c||e.url!==a)l.pushState({params:c,url:a,verticalType:d.getVerticalType(),actionPath:b},document.title,b+"?"+c),h(a,c,b)}else(0===b.indexOf("http")&&window.location.href!==b+"?"+c||window.location.pathname!==b||window.location.search!=="?"+c)&&h(a,c,b)}var d,p,q,x,h,M=0,G=0,n,g=window.location,l=window.history,s,k=
!!(l&&l.pushState&&l.replaceState),r=!0,w=YAHOO.env.ua,f="/vsearch/",t="generic",v={generic:LI.i18n.get("VoltronSearch-connect-error"),facet:LI.i18n.get("VoltronSearch-facet-error"),pagination:LI.i18n.get("VoltronSearch-pagination-error"),facetExpand:LI.i18n.get("VoltronSearch-facet-expand-error")},E;k&&w.webkit&&(k=534<=w.webkit);h=function(a,b,c){h=s||k?function(a,b){d.pub(LI.SearchFacets.Events.ajaxStart,{url:a,params:b});H(a,b)}:function(a,b,c){window.location=c+"?"+b};h(a,b,c)};this.getFacets=
function(a,b){H(q,a,{success:function(a){var e;(e=a.argument&&0<a.argument.length?a.argument[0]:null)&&F(e)&&("json"===x?d.pub(LI.SearchFacets.Events.newFacetExpand,{categoryId:b,json:a.responseText}):(e=document.createElement("div"),e.innerHTML=a.responseText,d.pub(LI.SearchFacets.Events.newFacetExpand,{categoryId:b,html:Y$("#facet-"+b,e,!0).innerHTML})))},failure:function(){d.pub(LI.SearchFacets.Events.newFacetExpandFailure,{categoryId:b,message:v.facetExpand})},custom:{exception:function(){d.pub(LI.SearchFacets.Events.newFacetExpandFailure,
{categoryId:b,message:v.facetExpand})}}})};this.facet=function(a){t="facet";y(p,n,a)};this.paginate=function(a,b,c){t="pagination";b=b||p;c=c||n;y(b,c,a)};this.advancedSearch=function(a,b,c){t="generic";y(b,c,a);n=c;p=b;q=b+"/expandfacet"};this.init=function(){d=m.mediator;p=m.facetsUrl;q=m.expandFacetUrl;x=m.responseType;n=m.actionPath;s=m.useHistory;w.ie&&7>=w.ie&&(s=!1);K()};this.init()};LI.define("SearchFacets.Facets");
LI.SearchFacets.Facets=function(b,f){function d(a){var c=YEvent.getTarget(a);c&&c.type!==C&&a.keyCode===D&&g(a)}function g(a){a=YEvent.getTarget(a);a.type!==w||a.disabled||l(a,YDom.getAncestorByClassName(a,p))}function h(a){var c=YEvent.getTarget(a),b=c.tagName?c.tagName.toLowerCase():"";c.type&&c.type.toLowerCase();var e=YDom.getAncestorByClassName(c,p);YDom.hasClass(c,"facet-toggle")?(YEvent.preventDefault(a),a=/facet-(.*)/,c=!1,b=LI.SearchFacets.Events,e.id&&(c=e.id.match(a),c=0<c.length?c[1]:
!1),YDom.hasClass(e,q)?(YDom.removeClass(e,q),r.pub(b.facetExpand,{categoryId:c,state:E,dirty:YDom.hasClass(e,x)})):(YDom.addClass(e,q),r.pub(b.facetCollapse,{categoryId:c,state:q}))):"a"===b&&YDom.hasClass(c,"toggle-more")?(YEvent.preventDefault(a),YDom.addClass(e,y)):"a"===b&&YDom.hasClass(c,"toggle-less")&&(YEvent.preventDefault(a),YDom.removeClass(e,y))}function l(a,c){var b=LI.SearchFacets.Select.Actions,e=LI.SearchFacets.Select.Logic;b.clearActionSet();YDom.hasClass(c,"single-select")&&e.selectOnly(a,
c);YDom.getAncestorByClassName(a,z)?e.selectOnly(a,c):YDom.hasClass(a.parentNode,F)||e.removeSelectAll(c);Y$('input:checked[type\x3d"checkbox"]',c).length||e.defaultState(a,c);m&&b.addFacet({action:"update",param:"orig",value:m});LI.SearchFacets.Select.Helpers.updateCheckboxState(a);A(LI.SearchFacets.Events.facetUpdated)}function A(a){var c=LI.SearchFacets.Select.Actions,b=c.getActionSet().add,c=c.getActionSet().remove.concat(b);c.length&&r.pub(a,c)}var r,m,k={},s={},t=[],B="",u=this,D=32,p="facet",
w="checkbox",C="text",y="extended",E="expanded",x="facet-dirty",q="collapsed",F="independent",z="select-all",v="";this.addAlwaysOnFields=function(a){s=[];a=B;"string"===typeof a&&(a=[a]);for(var c=0,b=a.length;c<b;c++)for(var e=0,f=Y$(a[c]),g=f.length;e<g;e++){var d=f[e],k=s,h=null,l=d.getAttribute("name"),m=d.getAttribute("type");!(m!==w&&"radio"!==m||d.checked)||d.disabled||YDom.hasClass(d,"hint")||("search-origin"===d.id&&(h="FCTD"),k[l]||(k[l]=[]),"select"===d.tagName.toLowerCase()?h=d[d.selectedIndex].value:
h||(h=d.value),k[l].push(h))}};this.getAdditionalFields=function(){this.addAlwaysOnFields();return s};this.checkboxDeselect=function(a){var c=YDom.get(a);a=YDom.getAncestorByClassName(a,p);c&&!c.disabled&&a&&(c.checked=!1,l(c,a))};this.hideProcessing=function(){var a,c;for(c=0;a=t[c];c++)YDom.removeClass(a,"loading");t=[]};this.singleFacetShowProcessing=function(a){YDom.addClass(a,"loading");t.push(a)};this.newFacets=function(a){u.replaceContent(a)};this.destroyTypeaheads=function(a){var c;if("undefined"!==
typeof a)(c=(a=Y$("input[type\x3dtext]",a,!0))?a.id:null)&&k[c]&&(k[c].destroy(),k[c]=null);else for(c in a=Y$("input[type\x3dtext]",b),k)k[c]&&(k[c].destroy(),k[c]=null);YEvent.removeListener(a,"focus",this.handleTextBoxFocus,this,!0);YEvent.removeListener(a,"keypress",this.handleTextBoxKeyPress,this,!0)};this.replaceContent=function(a){u.hideProcessing();a.html?b.innerHTML=a.html:a.json&&a.tlName&&dust&&dust.render(a.tlName,a.json,function(a,n){n&&(b.innerHTML=n)});LI.Controls.parseFragment(b);
this.destroyTypeaheads();this.initTextBoxFocusListener()};this.replaceFacetContent=function(a){var c=YDom.get("facet-"+a.categoryId),n=Y$(".inline-error",b,!0);YDom.removeClass(c,x);YDom.removeClass(c,"error");n&&n.parentNode.removeChild(n);u.hideProcessing();a&&a.html?c.innerHTML=a.html:a&&a.json&&a.tlName&&dust&&dust.render(a.tlName,a.json,function(a,b){b&&(c.innerHTML=b)});LI.Controls.parseFragment(c);this.destroyTypeaheads(c);this.initTextBoxFocusListener(c)};this.handleFacetError=function(a){var c=
YDom.get("facet-"+a.categoryId),b=Y$(".facet-values-container",c,!0),e=Y$(".inline-error",c,!0);YDom.addClass(c,"error");a&&a.message&&!e&&(b.innerHTML='\x3cdiv class\x3d"inline-error"\x3e'+LI.htmlEncode(a.message)+"\x3c/div\x3e"+b.innerHTML)};this.initTextBoxFocusListener=function(a){a=a?Y$("input[type\x3dtext]",a):Y$("input[type\x3dtext]",b);YEvent.on(a,"focus",this.handleTextBoxFocus,this,!0);YEvent.on(a,"keypress",this.handleTextBoxKeyPress,this,!0)};this.handleTextBoxKeyPress=function(a){13===
a.keyCode&&YEvent.preventDefault(a)};this.handleTypeaheadItemSelect=function(a,c){var b=c[2],e=LI.SearchFacets.Select.Actions,d=c[0].getInputEl(),f=d.name,g=YDom.getAncestorByClassName(d,p);e.clearActionSet();d.value="";YDom.hasClass(g,"single-select")&&LI.SearchFacets.Select.Helpers.unselectAllCheckboxes(g);(d=YDom.get(v+b.id+"-"+f.replace("f_","")+"-ffs"))?(d.setAttribute("checked","checked"),d.checked=!0,l(d,g)):(e.addFacet({action:"add",param:f,value:b.id,displayName:b.displayName}),m&&e.addFacet({action:"update",
param:"orig",value:m}),A(LI.SearchFacets.Events.facetUpdated))};this.handleTextBoxFocus=function(a){a=YEvent.getTarget(a);var b=LI.getDataAttribute(a,"url"),d=a.name,e;switch(b.replace(/.*(ta|typeahead)\//,"")){case "industry":e="TYPE_INDUSTRY";break;case "region":e="TYPE_REGION";break;case "company":e="TYPE_COMPANY";break;case "school":e="TYPE_SCHOOL";break;case "language":e="TYPE_LANGUAGE";break;case "degree":e="TYPE_DEGREE";break;case "mygroup":e="TYPE_MY_GROUPS";break;case "jobfunc":e="TYPE_JOB_FUNCTION";
break;case "fieldofstudy":e="TYPE_FIELD_OF_STUDY";break;case "skill":e="TYPE_SKILL"}k[d]||(k[d]=new LI.Typeahead2(a,{source:e,handleEventAs:["DEFAULT","USE_NO_RESULTS"],renderAs:["DEFAULT","AUTOCHOOSE"],itemSelectEventHandler:this.handleTypeaheadItemSelect,noResultsText:LI.i18n.get("SearchFacets-Network-no-results")||"No matching results",resultsClass:"facet-typeahead-results-container",maxResultsPerSource:10}),k[d].init())};this.getDefaultSelectedFacets=function(a){var c,d,e={};a=a||b;d=Y$('.facets input:checked[type\x3d"checkbox"]',
a);a=0;for(c=d.length;a<c;a++)YDom.hasClass(d[a].parentNode,z)||(d[a].name&&void 0===e[d[a].name]&&(e[d[a].name]=[]),e[d[a].name].push(d[a].value));return e};this.deinit=function(){YEvent.removeListener(b,"click");YEvent.removeListener(b,"change");YEvent.removeListener(b,"keyup");this.destroyTypeaheads()};this.init=function(){r=f.mediator;B=f.additionalFields;m=f.facetOrigParamValue;v=f.selectorPrefix||v;YEvent.on(b,"click",h,this,!0);YEvent.on(b,"change",g,this,!0);YEvent.on(b,"keyup",d,this,!0);
this.initTextBoxFocusListener()};this.init()};LI.define("SearchFacets.Select");
LI.SearchFacets.Select={Actions:{actionSet:{add:[],remove:[]},addFacet:function(b){this.actionSet.add.push(b)},removeFacet:function(b){this.actionSet.remove.push(b)},getActionSet:function(){return this.actionSet},clearActionSet:function(){this.actionSet={add:[],remove:[]}}},Helpers:{updateCheckboxState:function(b){b&&b.name&&b.value&&(YDom.hasClass(b.parentNode,"select-all")?LI.SearchFacets.Select.Actions.removeFacet({action:"reset",param:b.name}):b.checked&&!YDom.hasClass(b,"exclude")?LI.SearchFacets.Select.Actions.addFacet({action:"add",
param:b.name,value:b.value}):b&&!b.checked&&b.name&&b.value&&LI.SearchFacets.Select.Actions.removeFacet({action:"remove",param:b.name,value:b.value}))},unselectAllCheckboxes:function(b){var f=0;b=Y$('input[type\x3d"checkbox"]',b);for(var d=b.length;f<d;f++)b[f].checked=!1}},Logic:{selectOnly:function(b,f){for(var d=f.getElementsByTagName("input"),g=0,h=d.length;g<h;g++)"checkbox"!==d[g].type||d[g].value===b.value||YDom.hasClass(d[g].parentNode,"independent")||(d[g].checked=!1);LI.SearchFacets.Select.Actions.removeFacet({action:"reset",
param:b.name})},removeSelectAll:function(b){b=b.getElementsByTagName("input");for(var f=0,d=b.length;f<d;f++)"checkbox"===b[f].type&&YDom.hasClass(b[f].parentNode,"select-all")&&(b[f].checked=!1)},defaultState:function(b,f){var d;if(1<Y$('.default input[type\x3d"checkbox"]',f).length&&!YDom.hasClass(f,"multi-fields"))b.checked=!0;else for(var g=0,h=Y$('.default input[type\x3d"checkbox"]',f),l=h.length;g<l;g++)h[g].checked=!0,d=YDom.getAncestorByTagName(h[g],"li"),YDom.hasClass(d,"select-all")&&LI.SearchFacets.Select.Actions.removeFacet({action:"reset",
param:h[g].name})}}};LI.define("SearchFacets.Results");
LI.SearchFacets.Results=function(c,d){var n=this,h,m,e,b,k,l;this.showProcessing=function(){h.show()};this.hideProcessing=function(){h.hide()};this.handleNewResults=function(a){var c=!1,g,f,d;if(a&&(this.replaceContent(a),a.json)){if(a.json.results){g=a.json.results;f=0;for(d=g.length;f<d;f++)g[f].paywallUpsell?e=g[f].paywallUpsell:g[f].profinderPromo&&(c=!0,k=f,b=g[f].profinderPromo);this.trackPaywallImpression();c&&this.trackProfinderPromoImpression()}l=a.json.baseData&&a.json.baseData.isFuseRestricted;
this.checkFuseRestriction()}};this.replaceContent=function(a){n.hideProcessing();a.html?c.innerHTML=a.html:a.json&&a.tlName&&dust&&dust.render(a.tlName,a.json,function(a,b){b&&(c.innerHTML=b)});LI.Controls.parseFragment(c);m&&window.scrollTo(0,0)};this.trackPaywallImpression=function(){e&&"undefined"!==typeof WebTracking&&(e.isWarning?WebTracking.trackUserAction("search_usage_warning_impression",{search_threshold:e.paywallLimit,percentage_left:e.usageLeft,search_id:LI.SearchTracking.vars.searchId},
!0):e.isUpsell&&WebTracking.trackUserAction("search_usage_paywall_impression",{search_threshold:e.paywallLimit,search_id:LI.SearchTracking.vars.searchId},!0))};this.handleClick=function(a){a=YEvent.getTarget(a);0<=a.className.indexOf("dismiss")&&this.dismissPromo(a)};this.dismissPromo=function(a){var b=a.parentElement.className;"LI"===a.parentElement.nodeName&&(a.parentElement.parentElement.removeChild(a.parentElement),0<=b.indexOf("profinder")&&(a=this.createProfinderTrackingObject())&&WebTracking.trackUserAction("vsrp_profinder_promo_dismiss",
a,!0))};this.trackProfinderPromoImpression=function(){var a=this.createProfinderTrackingObject();a&&WebTracking.trackUserAction("vsrp_profinder_promo_impression",a,!0)};this.createProfinderTrackingObject=function(){var a;b&&"undefined"!==typeof WebTracking&&(a={result_index:k,service:b.serviceCategoryName,serviceId:b.serviceCategoryId,modelId:b.modelId,keywords:LI.SearchTracking.vars.keywords,search_id:LI.SearchTracking.vars.searchId},"undefined"!==typeof b.locationName&&(a.location=b.locationName,
a.locationUrnId=b.locationUrnId));return a};this.checkFuseRestriction=function(){l&&LI.injectAlert({message:LI.i18n.get("VoltronSearch-fuse-restricted"),type:"error",dismissable:!1})};this.init=function(){c&&(m=!1===d.scrollTopOnNewResults?!1:!0,h=new LI.ProcessingOverlay(c,{relative:!0,additionalClassName:"top"}),e=d.paywallData,this.trackPaywallImpression(),l=d.isFuseRestricted,this.checkFuseRestriction(),b=d.profinderPromoData,k=d.profinderPromoIdx,this.trackProfinderPromoImpression(),YEvent.on(c,
"click",this.handleClick,this,!0))};this.init()};LI.define("SearchFacets.PivotBar");
LI.SearchFacets.PivotBar=function(k,a){var m=this,l,f;a.containerClassName=a.containerClassName||"pivot-bar";a.itemClassName=a.itemClassName||"pivot";a.removeItemClassName=a.removeItemClassName||"remove-pivot";a.facetIdDataAttrib=a.facetIdDataAttrib||"pivot-facet-name";a.facetValueDataAttrib=a.facetValueDataAttrib||"pivot-facet-value";a.namingPrefix=a.namingPrefix||"facet";a.namingSuffix=a.namingSuffix||"fps";a.facetParamPrefix=a.facetParamPrefix||"f_";a.superPivotClassName=a.superPivotClassName||
"super-pivot";a.mainPivot=a.mainPivot||"pivot-search-type-id";a.resetClass=a.resetClass||"pivot-reset";f=document.getElementById(a.containerClassName);YEvent.on(k,"click",function(b){var h=YEvent.getTarget(b),d=YDom.hasClass(h,a.removeItemClassName)?h:YDom.getAncestorByClassName(h,a.removeItemClassName),c=YDom.getAncestorByClassName(d,a.itemClassName),g=YDom.getAncestorByClassName(d,a.superPivotClassName),e=[];if(YDom.hasClass(h,a.resetClass)){c=Y$("."+a.itemClassName,k);e=[];YEvent.preventDefault(b);
b=0;for(h=c.length;b<h;b++)g=c[b],d=LI.getDataAttribute(g,a.facetIdDataAttrib),g=LI.getDataAttribute(g,a.facetValueDataAttrib),d&&g&&e.push({action:"remove",param:a.facetParamPrefix+d,value:g});l.pub(LI.SearchFacets.Events.pivotBarReset,e);f&&f.parentNode.removeChild(f)}else d&&(YEvent.preventDefault(b),c?(b=LI.getDataAttribute(c,a.facetIdDataAttrib),e=LI.getDataAttribute(c,a.facetValueDataAttrib),b&&e&&(b=document.getElementById(e+"-"+b+"-"+a.namingSuffix))&&!b.disabled&&(l.pub(LI.SearchFacets.Events.tryFacetChange,
[{action:"remove",param:b.name,value:b.value,checkboxId:b.id,checked:!1}]),c.parentNode.removeChild(c))):g&&(c=LI.getQueryStringParam("pivotType"),b=LI.getQueryStringParam("pid"),c&&e.push({action:"remove",param:"pivotType",value:c}),b&&e.push({action:"remove",param:"pid",value:b}),0<e.length&&l.pub(LI.SearchFacets.Events.superPivotRemove,e)))});this.showProcessing=function(){YDom.addClass(f,"processing")};this.hideProcessing=function(){YDom.removeClass(f,"processing")};this.replaceContent=function(b){m.hideProcessing();
b.html?k.innerHTML=b.html:b.json&&b.tlName&&dust&&dust.render(b.tlName,b.json,function(b,d){if(d||""===d)k.innerHTML=d,f=document.getElementById(a.containerClassName)});LI.Controls.parseFragment(k)};this.init=function(){l=a.mediator};this.init()};LI.SearchFacets.Events.newPivotBar="newPivotBar";LI.SearchFacets.Events.pivotBarReset="pivotBarReset";LI.SearchFacets.Events.superPivotRemove="superPivotRemove";LI.SearchFacets.Events.pivotTypeChange="pivotTypeChange";LI.define("SearchFacets.RelatedSearch");LI.SearchFacets.RelatedSearch=function(c,e){var d=this,a;this.showProcessing=function(){YAHOO.lang.trim(c.innerHTML)&&a.show()};this.hideProcessing=function(){a.hide()};this.replaceContent=function(b){d.hideProcessing();b&&b.json&&b.tlName&&dust&&dust.render(b.tlName,b.json,function(b,a){"string"===typeof a&&(c.innerHTML=a)});LI.Controls.parseFragment(c)};this.init=function(){a=new LI.ProcessingOverlay(c,{relative:!0})};this.init()};
YAHOO.lang.augmentObject(LI.SearchFacets.Events,{newRelatedSearches:"newRelatedSearches"});LI.define("LazyInitAutocomplete");
LI.LazyInitAutocomplete=function(p,q,r,s){LI.LazyInitAutocomplete.superclass.constructor.call(this,p,q,r,s);this._populateList=function(d,c,a){-1!=this._nTypeAheadDelayID&&clearTimeout(this._nTypeAheadDelayID);d=a&&a.query?a.query:d;if((a=this.doBeforeLoadData(d,c,a))&&!c.error){this.dataReturnEvent.fire(this,d,c.results);var h=decodeURIComponent(d);this._sCurQuery=h;this._bItemSelected=!1;c=c.results;a=Math.min(c.length,this.maxResultsDisplayed);var f=this.dataSource.responseSchema.fields?this.dataSource.responseSchema.fields[0].key||
this.dataSource.responseSchema.fields[0]:0;if(0<a){(!this._elList||this._elList.childNodes.length<a)&&this._initListEl();this._initContainerHelperEls();for(var k=this._elList.childNodes,l=a-1;0<=l;l--){var m=k[l],b=c[l];if(this.resultTypeList){var e=[];e[0]=YAHOO.lang.isString(b)?b:b[f]||b[this.key];var g=this.dataSource.responseSchema.fields;if(YAHOO.lang.isArray(g)&&1<g.length)for(var n=1,p=g.length;n<p;n++)e[e.length]=b[g[n].key||g[n]];else YAHOO.lang.isArray(b)?e=b:YAHOO.lang.isString(b)?e=[b]:
e[1]=b;b=e}m._sResultMatch=YAHOO.lang.isString(b)?b:YAHOO.lang.isArray(b)?b[0]:b[f]||"";m._oResultData=b;this._populateListItem(m,b,h);m.style.display=""}if(a<k.length)for(f=k.length-1;f>=a;f--)h=k[f],h.style.display="none";this._nDisplayedItems=a;this.containerPopulateEvent.fire(this,d,c);this.autoHighlight?(a=this._elList.firstChild,this._toggleHighlight(a,"to"),this.itemArrowToEvent.fire(this,a),this._typeAhead(a,d)):this._toggleHighlight(this._elCurListItem,"from");a=this._doBeforeExpandContainer(this._elTextbox,
this._elContainer,d,c);this._toggleContainer(a)}else this._toggleContainer(!1)}else this.dataErrorEvent.fire(this,d,c)}};YAHOO.lang.extend(LI.LazyInitAutocomplete,YAHOO.widget.AutoComplete);LI.define("SearchFacets.SearchMediator");
LI.SearchFacets.SearchMediator=function(a,b){function d(){this.getPivotType()?h.setPageContext("pivot"):h.setPageContext("")}function f(){var a=Y$("#search-types .selected",null,!0);return LI.getDataAttribute(a,"current-vertical")||b.federatedUrl}function e(){"function"===typeof require&&require(["externalTracking"],function(a){a.trackWithComScore(LI.getPageKey())})}var c=LI.SearchFacets.Events,g,h,k=this;g=YDom.get("global-search");g=Y$("div.global-nav-styled-dropdown",g,!0);LI.SearchFacets.Created||
(LI.SearchFacets.Created=!0,this.verticalMap={federated:{searchDropDownOption:"all"},people:{searchDropDownOption:"people"},jobs:{searchDropDownOption:"jobs"},groups:{searchDropDownOption:"groups"},companies:{searchDropDownOption:"companies"},edu:{searchDropDownOption:"edu"},updates:{searchDropDownOption:"updates"},inbox:{searchDropDownOption:"all"}},this.srpContainer=YDom.get("srp_container"),this.setPrimaryType({type:b.primaryType}),this.setVerticalType({type:b.verticalType}),this.setPivotType({type:b.pivotType||
""}),this.initialKeywords=LI.htmlUnencode(b.initialKeywords),this.lixStickyFacets=b.lixStickyFacets||"",this.lixFastFacets="enabled"===b.lixFastFacets,this.lixVoltronJserpMigration="enabled"===b.lixVoltronJserpMigration,this.disableJobsAdvanced="enabled"===b.lixDisableJobsAdvanced,this.enableErrorHandling=b.enableErrorHandling||!1,this.hasGlobalSearchDropdownChanged=!1,this.stateChangeType=null,this.jserpPath=b.jserpUrl,this.setLeadBuilderAvailability({showLeadBuilder:b.showLeadBuilder}),this.styledSearchSelector=
g,b.showProcessingOnAjax=!1,this.resultsContainerEl=YDom.get("srp_main_"),this.subscriptions={},this.sub(c.ajaxStart,function(){YDom.addClass(this.resultsContainerEl,"loading")}),this.sub(c.ajaxFailure,function(){YDom.removeClass(this.resultsContainerEl,"loading")}),b.initialSubscriptions=this.subscriptions,LI.SearchFacets.SearchMediator.superclass.constructor.call(this,a,b),b.alertMessage&&b.alertType&&LI.injectAlert(b.alertMessage,b.alertType),this.paginatorEl=YDom.get("results-pagination"),this.paginator=
new LI.SearchFacets.PaginateSearch(this.paginatorEl,{mediator:this}),this.sub(c.resultsPaginate,this.paginate),this.sub(c.newResults,this.paginator.replaceContent),this.moreFacets=new LI.SearchFacets.MoreFacets(b.facetsEl),this.sub(c.facetUpdated,function(){this.stateChangeType="faceting"}),this.advancedSearchEl=YDom.get(b.advancedSearchEl),this.advancedSearch=new LI.SearchFacets.AdvancedSearch(this.advancedSearchEl,{mediator:this,transNavAdvButton:"advs-link",countryPostalCodeMapper:b.advCountryPostalCodeMapper,
advPeopleSearchUrl:b.advPeopleSearchUrl,advJobSearchUrl:b.advJobSearchUrl,autoOpen:b.autoOpenAdvanced,ignoreNetworkDefaults:b.ignoreNetworkDefaults,salariedCountryCodes:["us","ca","gb","au"],miniState:b.advancedFormName,disableJobsAdvanced:this.disableJobsAdvanced}),this.sub(c.newAdvMiniContainer,this.advancedSearch.replaceContent),this.sub(c.submitAdvancedSearch,this.submitAdvancedSearch),this.sub(c.primaryTypeChange,this.setPrimaryType),this.sub(c.primaryTypeChange,this.advancedSearch.sync),this.sub(c.verticalTypeChange,
this.setVerticalType),this.sub(c.verticalTypeChange,this.modifyGlobalSearchAction),this.sub(c.verticalTypeChange,this.modifyGlobalSearchSelector),this.sub(c.pivotTypeChange,this.setPivotType),this.sub(c.pivotTypeChange,this.setPivotId),this.sub(c.closeAdvancedSearch,this.closeAdvancedSearch),this.backfillSearchEl=YDom.get("results-container"),this.backfillSearch=new LI.SearchFacets.BackfillSearch(this.backfillSearchEl,{mediator:this,tlName:"tl/apps/search/voltron/partial/empty_results_ajax",endpoint:"/vsearch/nj"}),
this.sub(c.backfillResults,this.backfillSearch.backfillResults),this.savedSearchEl=YDom.get("saved-search-container"),this.savedSearch=new LI.SearchFacets.SavedSearch(this.savedSearchEl,{mediator:this,autoOpen:b.autoOpenSavedSearch}),this.sub(c.openAdvancedSearch,this.savedSearch.close),this.pivotBarEl=YDom.get("pivot-bar-container"),this.pivotBar=new LI.SearchFacets.PivotBar(this.pivotBarEl,{mediator:this,namingSuffix:"ffs"}),this.sub(c.newPivotBar,this.pivotBar.replaceContent),this.sub(c.pivotBarReset,
this.facetChange),this.verticalSelectorEl=YDom.get("search-types"),this.verticalSelector=new LI.SearchFacets.VerticalSelector(this.verticalSelectorEl,{mediator:this}),this.sub(c.newFacets,this.verticalSelector.replaceContent),this.resultsEl=YDom.get("results-col"),this.facetLite=new LI.SearchFacets.FacetLite(this.resultsEl,{mediator:this}),this.sub(c.facetSuggestion,this.paramChange),this.relatedSearchesEl=YDom.get("related-searches-container"),this.relatedSearches=new LI.SearchFacets.RelatedSearch(this.relatedSearchesEl,
{mediator:this}),this.sub(c.newRelatedSearches,this.relatedSearches.replaceContent),this.subsUpsellEl=YDom.get("subs-upsell-container"),LI.SearchFacets.SubsUpsell&&this.subsUpsellEl&&(this.subsUpsell=new LI.SearchFacets.SubsUpsell(this.subsUpsellEl,{mediator:this}),this.sub(c.newSubsUpsell,this.subsUpsell.replaceContent)),this.jobsSortEl=YDom.get("results_count"),this.jobsSort=new LI.SearchFacets.Sort(this.jobsSortEl,{mediator:this}),this.sub(c.sort,this.paramChange),this.sub(c.newResultsCount,this.jobsSort.replaceContent),
LI.SearchFacets.CustomEvents.enableTeamLink=new YAHOO.util.CustomEvent("enableTeamLink",this),LI.SearchFacets.CustomEvents.enableTeamLink.subscribe(function(a,b){this.paramChange(b)}),this.sub(c.facetExpand,this.persistFacetExpand),this.sub(c.facetCollapse,this.persistFacetExpand),this.sub(c.newFacets,this.updateStickyFacets),this.rightAdEl=YDom.get("sticky-ad"),this.rightAd=new LI.SearchFacets.Ads(this.rightAdEl,{adsEndpoint:b.adsEndpointUrl,width:160,height:600}),this.sub(c.newAd,this.rightAd.replaceContent),
this.bottomAdEl=YDom.get("bottom-ad"),g=YDom.get("bottom-ads-container"),this.bottomAd=new LI.SearchFacets.Ads(this.bottomAdEl,{adsEndpoint:b.adsEndpointUrl,width:YDom.hasClass(g,"full-width")?728:496,height:YDom.hasClass(g,"full-width")?90:80}),this.sub(c.newAd,this.bottomAd.replaceContent),(this.topAdEl=YDom.get("text-ad-container"))&&this.sub(c.newAd,function(){var a=Y$("iframe",this.topAdEl,!0),b=LI.getDataAttribute(a,"ts"),c=+new Date;a&&(b=b?a.src.replace("\x26ts\x3d"+b,"\x26ts\x3d"+c):a.src+
"\x26ts\x3d"+c,LI.setDataAttribute(a,"ts",c),a.src=b)}),this.rsidInput=Y$(".global-search input[name\x3drsid]",null,!0),this.rsidInput.value=LI.SearchTracking.vars.searchId,b.usingTwitterTypeahead||(h=LI.Controls.getControl("global-search","UniversalSearch"))&&h.keywordChangeEvent&&h.keywordChangeEvent.subscribe(function(a,b,c){b&&b[0]&&"string"===typeof b[0].keyword&&c.refineCurrentSearch(b[0].keyword)},this),this.sub(c.newFacets,this.fixCurrentState),this.newFacetTlName=b.newFacetTlName||"",this.sub(c.newFacetExpand,
this.mediateNewFacet),this.sub(c.newFacetExpand,this.facets.hideProcessing),this.enableErrorHandling&&(this.sub(c.newFacetExpandFailure,this.facets.handleFacetError),this.sub(c.newFacetExpandFailure,this.facets.hideProcessing)),this.getCurrentSearchAction=f,this.query&&this.updateOpenFacetsState(),LI.StyledDropdown.itemSelectEvent.subscribe(function(a,b){"universal-search-selector"===b[0]&&(k.getVerticalData("searchDropDownOption")!==b[1].value?(k.hasGlobalSearchDropdownChanged=!0,k.removeHiddenInputs(YDom.get("global-search"))):
k.hasGlobalSearchDropdownChanged=!1)}),this.modifyGlobalSearchAction(),this.sub(c.newResults,e),b.usingTwitterTypeahead||this.sub(c.newResults,d))};YAHOO.lang.extend(LI.SearchFacets.SearchMediator,LI.SearchFacets.Mediator);LI.SearchFacets.regex={facetsFromQueryString:/f_[A-Za-z]+\=[^&]+/g,facetShortName:/f_(.*)/,postalCodeInQueryString:/postalCode=[^&]+/,titleInQueryString:/title=[^&]+/,companyInQueryString:/company=[^&]+/};
LI.SearchFacets.SearchMediator.prototype.ajaxSuccess=function(a){var b=a.response,d=b&&b.page,f=d&&d.voltron_unified_search_json,e=LI.SearchFacets.Events,c=f.search,g=f.search,h=f.search,f=f.search,k=b&&b.global_requestParams,l={};this.enableErrorHandling&&LI.removeAlert();this.lastTransactionId!==a.transactionId&&this.lixFastFacets||(a=this.getVerticalType(),this.setPageContext(h),this.pub(e.newResults,{json:h,tlName:"tl/apps/search/voltron/partial/results",resultsCountId:"results_count",resultsCountTlName:"tl/apps/search/voltron/partial/results_count"}),
this.pub(e.newResultsCount,{json:h,tlName:"tl/apps/search/voltron/partial/results_count"}),this.pub(e.newFacets,{json:c,tlName:"tl/apps/search/voltron/partial/facets_form"}),this.pub(e.newAdvMiniContainer,{json:g,tlName:"tl/apps/search/voltron/partial/advanced_search_fields_container",fullFormTlName:"tl/apps/search/voltron/partial/advanced_mini_container"}),this.pub(e.newPivotBar,{json:h,tlName:"tl/apps/search/voltron/partial/pivot_bar"}),this.pub(e.newRelatedSearches,{json:f,tlName:"tl/apps/search/voltron/partial/related_searches"}),
this.pub(e.backfillResults,{json:h,descriptionTl:"tl/apps/search/voltron/partial/empty_results_description"}),this.getVerticalType()!==a&&this.pub(e.newSubsUpsell,{json:d,tlName:"tl/apps/search/voltron/partial/right_rail_upsell"}),k&&k.sb?this.addKeywordsToGlobalSearchBox(k.sb):"paginating"!==this.stateChangeType&&this.addKeywordsToGlobalSearchBox(this.getKeywords()),this.rsidInput.value=LI.SearchTracking.vars.searchId,l.pageKey=b.global_pageKey.substr(0,b.global_pageKey.indexOf("_json"))+"_internal_jsp",
this.pub(e.newAd,{json:l}),YDom.removeClass(this.resultsContainerEl,"loading"))};LI.SearchFacets.SearchMediator.prototype.getQueryStringFromObjectArray=function(a){var b=[],d=[],f,e,c,g;for(f in a)if(a.hasOwnProperty(f)){d=[];e=a[f];c=0;for(g=e.length;c<g;c++)d.push(encodeURIComponent(e[c]));0<d.length&&b.push(f+"\x3d"+d.join(","))}return b.join("\x26")};
LI.SearchFacets.Mediator.prototype.setPageContext=function(a){var b=LI.SearchFacets.Events,d=a.baseData.selectedVertical||"",f=a.primaryType||"",e=a.baseData.superPivot?a.baseData.superPivot.pivotType:"";a=e?a.baseData.superPivot.entityId:"";this.getVerticalType()!==d&&this.pub(b.verticalTypeChange,{type:d});this.getPrimaryType()!==f&&this.pub(b.primaryTypeChange,{type:f});this.getPivotType()!==e&&this.pub(b.pivotTypeChange,{type:e,pid:a})};
LI.SearchFacets.Mediator.prototype.paginate=function(a){var b=this.getCurrentSearchAction();this.stateChangeType="paginating";b=b.split("?")[0];this.updateQuery(a);this.network.paginate(this.getQueryString(),b+"j",b);window.scrollTo(0,0)};
LI.SearchFacets.Mediator.prototype.submitAdvancedSearch=function(a){var b=a.searchUrl.split("?")[0],d=a.displayUrl.split("?")[0];a=a.isPanelOpen?"ADVS":"MDYS";this.stateChangeType="advanceSearching";this.updateQuery([{action:"update",param:"rsid",value:LI.SearchTracking.vars.searchId}]);this.updateQuery([{action:"update",param:"orig",value:a}]);this.network.advancedSearch(this.getQueryString(),b+"j",d);window.scrollTo(0,0)};
LI.SearchFacets.Mediator.prototype.closeAdvancedSearch=function(){this.updateQuery([{action:"reset",param:"adv"}])};LI.SearchFacets.Mediator.prototype.persistFacetExpand=function(a){var b="expanded"===a.state?"add":"remove",d=YDom.getDocumentScrollTop();this.updateQuery([{action:b,param:"openFacets",value:a.categoryId}]);this.updateOpenFacetsState();window.scrollTo(0,d-1)};
LI.SearchFacets.Mediator.prototype.updateOpenFacetsState=function(){var a,b,d,f=YDom.getElementsByClassName("facet","li",this.facetsEl),e=[];this.query.openFacets&&e.push({action:"reset",param:"openFacets"});a=0;for(b=f.length;a<b;a++)d=f[a],YDom.hasClass(d,"collapsed")||e.push({action:"add",param:"openFacets",value:d.id.substr(6)});e.length&&this.updateQuery(e)};LI.SearchFacets.Mediator.prototype.removeHiddenInputs=function(a){var b=Y$("fieldset.facets",a,!0);b&&a.removeChild(b)};
LI.SearchFacets.Mediator.prototype.updateStickyFacets=function(){var a=YDom.get("global-search"),b,d,f,e,c;if(a&&!this.hasGlobalSearchDropdownChanged&&("all"===this.lixStickyFacets||"jobs"===this.lixStickyFacets&&"jobs"===this.getVerticalType())){this.removeHiddenInputs(a);b=this.getQueryString().match(LI.SearchFacets.regex.facetsFromQueryString)||[];d=['\x3cfieldset class\x3d"facets"\x3e'];e=0;for(c=b.length;e<c;e++)f=b[e].split("\x3d"),d.push('\x3cinput type\x3d"hidden" name\x3d"'+LI.htmlEncode(decodeURIComponent(f[0]))+
'" value\x3d"'+LI.htmlEncode(decodeURIComponent(f[1]))+'"/\x3e');d.push("\x3c/fieldset\x3e");a.appendChild(LI.domify(d.join("")))}};LI.SearchFacets.Mediator.prototype.modifyGlobalSearchAction=function(){var a=YDom.get("global-search"),b=this.getCurrentSearchAction();a&&(this.updateStickyFacets(),YDom.setAttribute(a,"action",b))};
LI.SearchFacets.Mediator.prototype.modifyGlobalSearchSelector=function(a){var b=this.styledSearchSelector?LI.Controls.getControl(this.styledSearchSelector,"StyledDropdown"):null;a=a?a.type:"";b&&a&&b.setSelectedValue(this.getVerticalData("searchDropDownOption",a))};
LI.SearchFacets.Mediator.prototype.refineCurrentSearch=function(a){this.updateQuery([{action:"reset",param:"page_num"},{action:"reset",param:"openFacets"},{action:"update",param:"keywords",value:a}]);this.network.facet(this.getQueryString());window.scrollTo(0,0)};
LI.SearchFacets.Mediator.prototype.checkDirty=function(a){var b;a&&a.dirty&&((b=YDom.get("facet-"+a.categoryId))&&this.facets.singleFacetShowProcessing(b),this.updateQuery([{action:"add",param:"expandFacet",value:a.categoryId}]),b=this.getQueryString(),this.updateQuery([{action:"remove",param:"expandFacet",value:a.categoryId}]),this.network.getFacets(b,a.categoryId))};LI.SearchFacets.Mediator.prototype.mediateNewFacet=function(a){a.tlName=this.newFacetTlName;this.facets.replaceFacetContent(a)};
LI.SearchFacets.Mediator.prototype._bootstrapQuery=LI.SearchFacets.Mediator.prototype.bootstrapQuery;LI.SearchFacets.Mediator.prototype.bootstrapQuery=function(a){this._bootstrapQuery(a);this.fixCurrentState()};LI.SearchFacets.Mediator.prototype._facetChange=LI.SearchFacets.Mediator.prototype.facetChange;
LI.SearchFacets.Mediator.prototype.facetChange=function(a){if(this.lixVoltronJserpMigration&&"federated"===this.getVerticalType()&&"jobs"===this.getPrimaryType()){for(var b=0;b<a.length;b++)"add"===a[b].action&&a[b].param.startsWith("f_")&&(this.query[a[b].param]=[a[b].value]);window.location.href=this.jserpPath+"?"+this.getQueryString()}else a.push({action:"reset",param:"sb"}),this._facetChange(a)};LI.SearchFacets.Mediator.prototype._superPivotChange=LI.SearchFacets.Mediator.prototype.superPivotChange;
LI.SearchFacets.Mediator.prototype.superPivotChange=function(a){a.push({action:"reset",param:"sb"});this._superPivotChange(a)};
LI.SearchFacets.Mediator.prototype.fixCurrentState=function(){var a=[],b,d,f=this.getPivotType(),e=this.getPivotId(),c;if("people"===this.getPrimaryType())for(b=Y$('input:checked:not([value\x3d"Y"])',YDom.get("facet-N")),a.push({action:"reset",param:"f_N"}),d=0,c=b.length;d<c;d++)a.push({action:"add",param:"f_N",value:b[d].value});"jobs"!==this.getPrimaryType()||f||(b=this.getQueryString(),-1===b.indexOf("locationType")&&-1===b.indexOf("countryCode")&&(b=YDom.get("advs-locationType"),d=YDom.get("advs-countryCode"),
b&&d&&(a.push({action:"update",param:"locationType",value:b.options[b.selectedIndex].value}),a.push({action:"update",param:"countryCode",value:d.options[d.selectedIndex].value}))));f&&a.push({action:"update",param:"pivotType",value:f});e&&a.push({action:"update",param:"pid",value:e});this.initialKeywords&&(a.push({action:"update",param:"keywords",value:this.initialKeywords}),this.initialKeywords=null);a.push({action:"update",param:"rsid",value:LI.SearchTracking.vars.searchId});this.updateQuery(a)};
LI.SearchFacets.Mediator.prototype.getPrimaryType=function(){return this.primaryType};LI.SearchFacets.Mediator.prototype.setPrimaryType=function(a){var b=this.srpContainer,d="srp-type-"+LI.getDataAttribute(b,"srp-type");this.primaryType=a=a.type;YDom.replaceClass(b,d,"srp-type-"+a);LI.setDataAttribute(b,"srp-type",a)};LI.SearchFacets.Mediator.prototype.getVerticalType=function(){return this.verticalType};
LI.SearchFacets.Mediator.prototype.setVerticalType=function(a){if(this.verticalType=a.type)this.currentMap=this.verticalMap[this.verticalType]||{}};LI.SearchFacets.Mediator.prototype.getVerticalData=function(a,b){var d=b?this.verticalMap[b]:this.currentMap;if(d.hasOwnProperty(a))return d[a]};LI.SearchFacets.Mediator.prototype.getPivotType=function(){return this.pivotType};LI.SearchFacets.Mediator.prototype.setPivotType=function(a){this.pivotType=a.type};
LI.SearchFacets.Mediator.prototype.getPivotId=function(){return this.pivotId};LI.SearchFacets.Mediator.prototype.setPivotId=function(a){this.pivotId=a.pid};LI.SearchFacets.Mediator.prototype.setLeadBuilderAvailability=function(a){this.isLeadBuilderAvailable=a.showLeadBuilder};LI.SearchFacets.Mediator.prototype.getLeadBuilderAvailability=function(){return this.isLeadBuilderAvailable};
LI.SearchFacets.Mediator.prototype.addKeywordsToGlobalSearchBox=function(a){a=a||"";Y$("#main-search-box",null,!0).value=a};LI.define("SearchFacets.AdvancedSearch");
LI.SearchFacets.AdvancedSearch=function(f,l){function t(a,g,d){this.name=a;this.endpoint=g;this.type=d;this.form=""}function x(){b.close();LI.injectAlert(LI.i18n.get("VoltronSearch-advs-error-text"),"error",null,!1,!0);return!1}function I(){switch(h.getPrimaryType()){case "jobs":return"jobs";default:return"people"}}function J(){var a=Y$(".countryCode, .postalCode, li.distance",k);YDom.addClass(a,u)}function z(a){var g=a.split("\x26"),d={},b=[],h=-1<a.indexOf("locationType\x3dY"),k=K.postalCodeInQueryString.test(a),
f=K.titleInQueryString.test(a);a=K.companyInQueryString.test(a);var c,n,m,e,l;n=0;for(m=g.length;n<m;n++)c=g[n].split("\x3d"),l=c[0],c=c[1],l&&c&&(d[l]=d[l]?d[l]+(","+c):c);for(e in d)!d.hasOwnProperty(e)||h&&("countryCode"===e||"postalCode"===e||"distance"===e)||!k&&"distance"===e||!f&&"titleScope"===e||!a&&"companyScope"===e||b.push(e+"\x3d"+d[e]);return b.join("\x26")}function L(a){var g,d,b,h,c,e;v();h=a.match(K.facetsFromQueryString)||[];a=0;for(d=h.length;a<d;a++)if(g=h[a].split("\x3d"),c=g[0].slice(2),
e=g[1].split(","),X||!l.ignoreNetworkDefaults||"N"!==c)for(g=0,b=e.length;g<b;g++){var f=decodeURIComponent(e[g]),n=c,m=void 0,p=m=m=void 0,m=p=m=void 0;if(m=YDom.get("adv-"+f+"-"+n+"-ffs"))m.checked=!0,m.setAttribute("checked","true");else if(m=YDom.getAncestorByClassName(YDom.get(f+"-"+n+"-ffs"),M))if(m='\x3cli class\x3d"'+M+'"\x3e'+m.innerHTML+"\x3c/li\x3e",p=m.replace(/<span class="?facet-count"?>.*<\/span>/i,"").replace(/>\s+</g,"\x3e\x3c"),m=Y$("#adv-facet-"+n+" ol.facet-values",k,!0))m.innerHTML+=
p,p=Y$("input:last",m,!0),p.id="adv-"+p.id,m=Y$("label",m,!0),m.htmlFor="adv-"+m.htmlFor;YDom.removeClass("adv-facet-"+c,"collapsed")}}function y(){if(k=Y$("#advs form",null,!0)||Y$("#advs-form-container form",null,!0)){E=[YDom.get("advs-title"),YDom.get("advs-company"),YDom.get("advs-postalCode")];Y=Y$(".premium-facets",k,!0);A=Y$(".postalCode",k,!0);Q=Y$("li.distance",k,!0);F=Y$("input",k,!0);Z=LI.getDataAttribute(A,"geo-enabled-countries")||"[]";Y$(R,f,!0);S=YDom.get("leads-count");LI.Controls.parseFragment(k);
N();T=YAHOO.lang.JSON.parse(Z);b.type===U&&S&&Y$("#results_count p",null,!0)&&(S.innerHTML=Y$("#results_count p",null,!0).innerHTML);YEvent.on(k,"submit",function(a){var g=!1,d=document.activeElement;YEvent.preventDefault(a);YDom.hasClass(d,"facet-typeahead")&&(g=!0);if(!g){a=[];var d=Y$(".text-input-fields input",k),r=Y$(".text-input-fields select",k),c,e,f,n,g=0;c=YDom.hasClass(p,B)?Y$('#refine-search input[type\x3d"checkbox"]:checked'):Y$('.facets-container input[type\x3d"checkbox"]:checked',k);
d=d.concat(r,c);f=0;for(n=d.length;f<n;f++)r=d[f],e=r.disabled,c=r.name,!e&&c&&(c=encodeURIComponent(c)+"\x3d",e=encodeURIComponent(r.value),"select-one"===r.type&&-1<r.selectedIndex?a[g++]=c+encodeURIComponent(r.options[r.selectedIndex].value):"checkbox"===r.type?a[g++]=c+r.value:("postalCode"===r.name&&e&&"leadbuilderSearchForm"===k.name&&(a[g++]="openAdvancedForm\x3dtrue"),a[g++]=c+e));a=z(a.join("\x26"));V=!0;h.resetQuery();h._bootstrapQuery(a);h.addKeywordsToGlobalSearchBox();h.pub(LI.SearchFacets.Events.submitAdvancedSearch,
{searchUrl:k.action,displayUrl:k.action,isPanelOpen:O});b.close()}});YEvent.on(E,"keyup",function(){C(this)});YEvent.on(E,"blur",function(){C(this)});YEvent.on("advs-locationType","change",function(){P(this)});YEvent.on("advs-countryCode","change",function(){D(this)});if(w)YEvent.on(w.overlay,"click",function(a){YEvent.preventDefault(a);b.close()});YEvent.on(k,"focusin",function(a){a=YEvent.getTarget(a);YDom.removeClass(a,"error")});if(l.ignoreNetworkDefaults)YEvent.on("adv-facet-N","change",function(){X=
!0})}}function C(a){var g="advs-postalCode"===a.id?YDom.get("advs-distance"):YDom.get(a.id+ba),d=YDom.getAncestorByTagName(g,"li");d&&(""===a.value?(YDom.addClass(d,u),g.disabled=!0):(YDom.removeClass(d,u),g.disabled=!1))}function D(a){a=a.value;var g=-1<T.indexOf(a),d;G(a);if(g){g=$[a];if(d=Y$("a",A,!0))d.href=g||$.def+a;YDom.removeClass(A,u)}else YDom.addClass(A,u),YDom.addClass(Q,u),YDom.get("advs-postalCode").value="",YDom.get("advs-distance").selectedIndex=0}function G(a){YDom.removeClass(Y$(".salary.show",
Y,!0),"show");a?-1<ca.indexOf(a)?YDom.addClass(YDom.get("adv-facet-SB-"+a),"show"):YDom.addClass(YDom.get("adv-facet-SB-unsupported"),"show"):YDom.addClass(YDom.get("adv-facet-SB-unavailable"),"show")}function P(a){var g=Y$(".countryCode",k,!0),d=YDom.get("advs-countryCode"),b=YDom.get("advs-postalCode");"Y"!==a.value?(YDom.removeClass(g,u),d.disabled=!1,-1<T.indexOf(d.value)&&(YDom.removeClass(A,u),b.value&&YDom.removeClass(Q,u)),G(d.value)):(J(),a=YDom.get("advs-countryCode"),g=YDom.get("advs-postalCode"),
d=YDom.get("advs-distance"),a.selectedIndex=0,g.value="",d.selectedIndex=0,G())}function q(){YEvent.removeListener(["advs-title","advs-company"],"focus");YEvent.removeListener(["advs-title","advs-company"],"blur");YEvent.removeListener("advs-locationType","change");w&&YEvent.removeListener(w.overlay,"click");YEvent.removeListener(k,"focusin");YEvent.removeListener(k,"submit")}function N(){var a=Y$(".facets-container",f,!0);a&&(H&&H.deinit(),H=new LI.SearchFacets.AdvancedSearchFacets(a,{mediator:{modifyQueryString:z},
formId:b.name}))}function v(){var a,b,d;if(k){a=Y$('input[type\x3d"checkbox"]:checked',k);for(var c=0,e=a.length;c<e;c++)d=a[c],b=YDom.getAncestorByClassName(d,M),YDom.removeClass(b,"selected"),d.checked=!1,d.removeAttribute("checked")}}function n(){var a=YDom.get("leads-count");H.isActiveLeadBuilderRequest()&&YAHOO.util.Connect.abort(H.getActiveLeadBuilderRequest());a&&(YDom.removeClass(a,"loading"),a.innerHTML="")}function c(a){if(a){a.reset();a=Y$('input[type\x3d"checkbox"]',k);for(var b,d,c=0,
e=a.length;c<e;c++)b=a[c],d=YDom.getAncestorByClassName(b,M),b.checked?YDom.addClass(d,"selected"):YDom.removeClass(d,"selected");for(a=0;a<E.length;a++)C(E[a]);D(YDom.get("advs-countryCode"));P(YDom.get("advs-locationType"))}}function e(){var a=I();b.type!==a&&((b=s[a])&&b.form?f.innerHTML=b.form:b.fetch(!0))}var h=l.mediator,b,W=l.transNavAdvButton?YDom.get(l.transNavAdvButton):null,p=YDom.get("facets-col"),T=[],$=l.countryPostalCodeMapper||{},ca=l.salariedCountryCodes||["us","au","ca","gb"],s,
E,Y,A,S,Q,F,Z,R="fieldset.text-input-fields";Y$(R,f,!0);var aa=h.getPrimaryType(),da=h.getLeadBuilderAvailability(),ea=YDom.get("search-link")||YDom.get("advanced-search"),K=LI.SearchFacets.regex,k,w,H,u="hidden",B="advs-mini",U="leads",M="facet-value",ba="Scope",V=YDom.hasClass(p,B),O=!1,X=!1;t.prototype.fetch=function(a){var g="";a&&(g="\x26"+h.getQueryString());f.innerHTML="";YDom.addClass(f,"loading");LI.asyncRequest("GET",b.endpoint+"?tl\x3dtl/apps/search/voltron/partial/advanced_search_form"+
g,{success:function(a){a.responseText&&dust?(a=a.responseText,dust.render("tl/apps/search/voltron/partial/advanced_search_form",a,function(a,d){"string"!==typeof d||b.form||(YDom.removeClass(f,"loading"),f.innerHTML=d,b.form=d,y(),F&&F.focus(),L(g))})):x()},custom:{exception:x}})};t.prototype.fetchData=function(a){var b="\x26"+h.getQueryString();LI.asyncRequest("GET",a.endpoint+"?tl\x3dtl/apps/search/voltron/partial/advanced_search_form"+b,{success:function(b){b.responseText&&dust?(b=b.responseText,
dust.render("tl/apps/search/voltron/partial/advanced_search_form",b,function(b,d){"string"===typeof d&&(a.form=d)})):x()},custom:{exception:x}})};t.prototype.open=function(a){var g=!1,d=b.type,e=b.type!==this.type,n;O=!0;da&&!a?(b=s.leads,b.form="",e=!0):(b=this,YDom.removeClass(p,"leads-search"));h.pub(LI.SearchFacets.Events.openAdvancedSearch);if(e||!YDom.hasClass(f,"active"))(n=b.type===aa||"leads"===b.type&&"people"===aa)&&(!a||"leads"===d&&"people"===b.type)&&(g=!0),YDom.addClass(f,"active"),
YDom.addClass(W,"open"),YDom.removeClass(p,B),w||(w=new LI.ProcessingOverlay(f.parentNode,{relative:!0,additionalClassName:"advs-overlay",height:document.body.offsetHeight,width:document.body.offsetWidth})),w.show(),q(),b.form?(e&&(f.innerHTML=b.form),y(),g&&(c(k),L(h.getQueryString()))):b.fetch(g),F&&F.focus()};t.prototype.close=function(){O&&(O=!1,h.pub(LI.SearchFacets.Events.closeAdvancedSearch),w&&w.hide(),V&&YDom.addClass(p,B),b.type===U&&n(),e(),YDom.removeClass(f,"active"),YDom.removeClass(f,
"loading"),YDom.removeClass(W,"open"),c(k),v())};this.sync=e;this.replaceContent=function(a){var c=a.tlName,d=Y$(R,f,!0),e=!1;b.form||(e=!0);a&&a.json&&a.tlName&&dust&&(a.json.advancedSearchForm?(YDom.addClass(p,B),YDom.removeClass(p,"leads-search")):(YDom.removeClass(p,B),V=!1,e=!0),e&&(c=a.fullFormTlName,d=f,b.form=""),dust.render(c,a.json,function(a,b){"string"===typeof b&&(d.innerHTML=b,LI.Controls.parseFragment(f),q(),y())}))};(function(){YEvent.on(f,"click",function(a){var c=YEvent.getTarget(a);
if(LI.elOrAncestorHasClass(c,"search-type"))YEvent.preventDefault(a),LI.elOrAncestorHasClass(c,"people")?s.people.open(!0):!l.disableJobsAdvanced&&LI.elOrAncestorHasClass(c,"jobs")?s.jobs.open(!0):LI.elOrAncestorHasClass(c,"leads")&&s.leads.open(!0);else if(LI.elOrAncestorHasClass(c,"close-advs"))YEvent.preventDefault(a),b.close();else if(LI.elOrAncestorHasClass(c,"reset-advs")&&(YEvent.preventDefault(a),k)){b.type===U&&n();b.open(!0);var d,e;if(k){a=Y$('input[type\x3d"text"]',k);c=Y$("select",k);
d=0;for(e=a.length;d<e;d++)a[d].value="";d=0;for(e=c.length;d<e;d++)c[d].selectedIndex=0}v();J()}});YEvent.on(W,"click",function(a){YEvent.preventDefault(a);YDom.hasClass(f,"active")?b.close():l.disableJobsAdvanced&&b===s.jobs?(s.jobs.form||s.jobs.fetchData(s.jobs),s.people.open(!0)):b.open()});YEvent.on("main-search-box","focus",function(){b.close()});YEvent.on(ea,"click",function(a){YEvent.preventDefault(a);b.open()})})();s={people:new t("peopleSearchForm","/vsearch/apj","people"),jobs:new t("jobSearchForm",
"/vsearch/ajj","jobs"),leads:new t("leadbuilderSearchForm","/vsearch/albj","leads")};b=s[I()];l.autoOpen?b.open():l.miniState&&y()};
LI.SearchFacets.AdvancedSearchFacets=function(f,l){function t(n,c,e){var h,b;b=n.match(LI.SearchFacets.regex.facetShortName);b=0<b.length?b[1]:!1;if(h=Y$("#adv-facet-"+b+" .facet-values",f,!0))(n=Y$('input[value\x3d"'+c+'"]',h,!0))?(n.checked=!0,n.setAttribute("checked",!0)):(c={fmt_displayValue:e,value:c,shortName:b,canUseFacet:!0,isSelected:!0,advanced:!0},dust.render("tl/apps/search/voltron/partial/facet",c,function(b,c){"string"===typeof c&&(h.appendChild(LI.domify(c)),h.scrollTop=1E4)}))}function x(){LI.injectAlert(LI.i18n.get("VoltronSearch-advs-error-text"),
"error",null,!1,!0);return!1}function I(){var f=[],c=Y$(".text-input-fields input",D),e=Y$(".text-input-fields select",D),h,b,l,p,q=0;h=YDom.hasClass(G,P)?Y$('#refine-search input[type\x3d"checkbox"]:checked'):Y$('.facets-container input[type\x3d"checkbox"]:checked',D);c=c.concat(e,h);l=0;for(p=c.length;l<p;l++)e=c[l],b=e.disabled,h=e.name,!b&&h&&(h=encodeURIComponent(h)+"\x3d",b=encodeURIComponent(e.value),"select-one"===e.type&&-1<e.selectedIndex?f[q++]=h+encodeURIComponent(e.options[e.selectedIndex].value):
"checkbox"===e.type?f[q++]=h+e.value:f[q++]=h+b);return f=z.modifyQueryString(f.join("\x26"))}function J(f,c){var e=YDom.get(f),h;e.innerHTML="";YDom.addClass(f,"loading");h=I();""!==h&&(h+="\x26pageType\x3dnone",YAHOO.util.Connect.isCallInProgress(v)&&YAHOO.util.Connect.abort(v),v=YAHOO.util.Connect.asyncRequest("GET",c+"?"+h,{success:function(b){b.responseText?(b=YAHOO.lang.JSON.parse(b.responseText),YDom.removeClass(f,"loading"),e.innerHTML="\x3cstrong\x3e"+b.content.voltron_unified_search_json.search.baseData.resultCount+
"\x3c/strong\x3e "+LI.i18n.get("VoltronSearch-results-text")):x()},custom:{exception:x}}))}var z=l.mediator,L=LI.SearchFacets.Events,y,C=l.formId,D=YDom.get(C),G=YDom.get("facets-col"),P="advs-mini",q,N,v=null;LI.SearchFacets.AdvancedSearchFacets.prototype.isActiveLeadBuilderRequest=function(){return YAHOO.util.Connect.isCallInProgress(v)?!0:!1};LI.SearchFacets.AdvancedSearchFacets.prototype.getActiveLeadBuilderRequest=function(){return v};z.pub=function(f,c){switch(f){case L.facetUpdated:if(c&&c.length){q=
0;for(N=c.length;q<N;q++)"add"===c[q].action&&c[q].displayName&&t(c[q].param,c[q].value,c[q].displayName);"leadbuilderSearchForm"===C&&J("leads-count","/vsearch/pj/hitcount")}}};y=new LI.SearchFacets.Facets(f,{mediator:z,selectorPrefix:"adv-"});new LI.SearchFacets.MoreFacets(f);this.deinit=function(){y.deinit()}};
YAHOO.lang.augmentObject(LI.SearchFacets.Events,{submitAdvancedSearch:"submitAdvancedSearch",primaryTypeChange:"primaryTypeChange",openAdvancedSearch:"openAdvancedSearch",closeAdvancedSearch:"closeAdvancedSearch",newAdvMiniContainer:"newAdvMiniContainer"});LI.define("SearchFacets.SavedSearch");
LI.SearchFacets.SavedSearch=function(f,v){function w(a,b,c){this.id=a;this.type=b;this.isInactive=c;k.currentSavedSearches[b]+=1}function h(a,b){this.name=a;this.endpoint=b;this.html=""}function m(a,b,c){c=c||"yield";LI.removeAlert(s);a&&LI.injectAlert(LI.i18n.get("VoltronSearch-saved-search-"+b),c,s,!1,!0)}function n(){g.close();LI.injectAlert(LI.i18n.get("VoltronSearch-saved-search-error-text"),"error",null,!1,!0);return!1}function x(){var a=Y$(".form-container form",f);YEvent.on(a,"submit",function(a){var c=
this.name.value;YEvent.preventDefault(a);if(c.replace(/^\s*|\s*$/,""))c=encodeURIComponent(c),YDom.hasClass(this,"create")?k.create(c,this.freq.value,this.action):k.edit(this.ssId.value,c,this.freq.value,this.action);else return m(!0,"add-title","error"),!1})}var y=YDom.get("search-nav"),p=v.mediator,z=YDom.get("results_count"),A=YDom.get("saved-searches-button"),q,g,t,r,s,k,u,l=0;k={getSavedSearch:function(a){return this.list[this.getSavedSearchIndex(a)]||{}},getSavedSearchIndex:function(a){var b,
c,d,e=this.list;b=0;for(c=e.length;b<c;b++)if(d=e[b],d.id===a)return b;return-1},create:function(a,b,c){YDom.addClass(u,"hide");var d=p.getQueryString(),e=this;YDom.addClass(r,"loading");c+="\x26tl\x3dtl/apps/search/voltron/partial/saved_search_item_ajax\x26action\x3dcreate\x26name\x3d"+a+"\x26freq\x3d"+b+"\x26params\x3d"+encodeURIComponent(d);YDom.get("advs-postalCode-error")&&(c+="\x26invalidFields\x3dpostalCode");LI.asyncRequest("GET",c,{success:function(a){l+=1;a=a.responseText;var b=a.voltron_saved_search_detail_json;
b&&b.id&&b.searchTypeValue&&(e.list.unshift(new w(b.id,b.searchTypeValue,!1)),g.addRow(a),e.updateMessages())},custom:{exception:n}})},edit:function(a,b,c,d){var e=YDom.get("ss-"+a);YDom.addClass(e,"loading");LI.asyncRequest("GET",d+("\x26action\x3dedit\x26name\x3d"+b+"\x26freq\x3d"+c+"\x26id\x3d"+a),{success:function(b){var d=(b=b.responseText)?b.name:d;g.updateRow(a,d,c,b?b.frequencyDisplayValue:"")},custom:{exception:n}})},remove:function(a,b){var c=this,d=this.getSavedSearch(a),e=YDom.get("ss-"+
a);YDom.addClass(e,"loading");g.closeEditForm();LI.asyncRequest("GET",b,{success:function(){c.list.splice(c.getSavedSearchIndex(a),1);c.currentSavedSearches[d.type]-=1;l-=1;0===l&&YDom.removeClass(u,"hide");c.updateMessages();g.removeRow(a);!1===d.isInactive&&c.updateActive()},custom:{exception:n}})},setActive:function(a){this.getSavedSearch(a).isInactive=!1;g.setRowActive(a)},getSavedSearchesLeft:function(){var a=p.getPrimaryType();return this.maxSavedSearches[a]-this.currentSavedSearches[a]},updateMessages:function(){var a=
p.getPrimaryType(),b=this.getSavedSearchesLeft(),c=this.alertsShown;0>=b?this.isExec?(m(c,"exec-max-"+a,"yield"),YDom.addClass(t,"show")):m(c,"max-"+a,"yield"):(1===b?this.isExec?m(c,"exec-almost-max-"+a,"yield"):m(c,"almost-max-"+a,"yield"):m(!1),YDom.removeClass(t,"show"))},updateActive:function(){var a=this.list,b,c=this.maxSavedSearches.people,d=0,e;for(e=a.length-1;0<=e;e--)if(b=a[e],"people"===b.type&&(d++,b.isInactive&&d<=c)){k.setActive(b.id);break}},init:function(a){var b,c,d,e=p.getPrimaryType();
this.list=[];this.currentSavedSearches={jobs:0,people:0};this.maxSavedSearches={jobs:10};if(a=a.voltron_saved_search_json_internal){this.maxSavedSearches.people=a.createLimit;if((a=a.savedSearches)&&a.length)for(l=a.length,c=0,d=a.length;c<d;c++)b=a[c],this.list.push(new w(b.id,b.searchTypeValue,!!b.isInactive));else l=0;this.isExec="people"===e&&10===this.maxSavedSearches[e]}this.updateMessages()}};h.prototype.open=function(a){var b=this,c="",d=p.getPrimaryType();if(!YDom.hasClass(f,"active")){if("people"===
d||"jobs"===d)c="\x26type\x3d"+d+"\x26create\x3dtrue";YDom.addClass(f,"active");YDom.removeClass(y,"active");q||(q=new LI.ProcessingOverlay(f.parentNode,{relative:!0,additionalClassName:"ss-overlay",height:document.body.offsetHeight,width:document.body.offsetWidth}));q.show();YEvent.on(q.overlay,"click",function(a){YEvent.preventDefault(a);b.close()});f.innerHTML="";YDom.addClass(f,"loading");LI.asyncRequest("GET",this.endpoint+"?action\x3dlist\x26tl\x3dtl/apps/search/voltron/partial/saved_search"+
c,{success:function(c){var d;c.responseText&&dust?(d=c.responseText,dust.render("tl/apps/search/voltron/partial/saved_search",d,function(c,e){"string"===typeof e&&(f.innerHTML=e,b.html=e,YDom.removeClass(f,"loading"),r=Y$(".dummy-saved-search",f,!0),t=Y$(".limit-tip",f,!0),s=Y$(".alert-container",f,!0),u=Y$(".saved-searches-list .tip",null,!0),x(),k.alertsShown=!!a,k.init(d),LI.Controls.parseFragment(f),"create"===a&&b.openEditForm(null))})):n()},custom:{exception:n}})}};h.prototype.close=function(){YDom.removeClass(f,
"active");YDom.removeClass(f,"loading");this.closeEditForm();q&&q.hide()};h.prototype.addRow=function(a){var b,c,d=this;a&&dust?(YDom.removeClass(r,"loading"),b=Y$("tbody",f,!0),c=Y$("tr:nth-child(2)",b,!0),dust.render("tl/apps/search/voltron/partial/saved_search_item_ajax",a,function(a,f){var g;"string"===typeof f&&(g=document.createElement("div"),g.innerHTML="\x3ctable\x3e\x3ctbody\x3e"+f+"\x3c/tbody\x3e\x3c/table\x3e",b.insertBefore(g.firstChild.firstChild.firstChild,c),d.closeEditForm())})):n()};
h.prototype.updateRow=function(a,b,c,d){a=YDom.get("ss-"+a);var e=Y$(".title a",a,!0)||Y$(".title span",a,!0),f=Y$(".alert",a,!0);this.closeEditForm();YDom.removeClass(a,"loading");e&&f&&(e.innerHTML=LI.htmlEncode(b),LI.setDataAttribute(f,"freq-val",c),f.innerHTML=d)};h.prototype.setRowActive=function(a){var b=YDom.get("ss-"+a);a=Y$(".title span",b,!0);var b=Y$(".new span",b,!0),c=a?LI.getDataAttribute(a,"title-href"):"#",d=b?LI.getDataAttribute(b,"new-href"):"#";a&&(a.parentNode.innerHTML='\x3ca href\x3d"'+
c+'"\x3e'+a.innerHTML+"\x3c/a\x3e");b&&(b.parentNode.innerHTML='\x3ca href\x3d"'+d+'"\x3e'+b.innerHTML+"\x3c/a\x3e")};h.prototype.removeRow=function(a){var b=Y$("tbody",f,!0);a=YDom.get("ss-"+a);b&&b.removeChild(a)};h.prototype.openEditForm=function(a){var b=YDom.get("ss-"+a)||r,c=LI.getDataAttribute(b,"search-type"),c=Y$(".form-container."+c,f,!0),d=Y$("form",c,!0),e=d.freq,g=Y$("option",e),h,l;this.closeEditForm();if(YDom.hasClass(b,"dummy-saved-search")){if(0>=k.getSavedSearchesLeft())return;YDom.removeClass(b,
"hide");YDom.replaceClass(d,"update","create");d.name.value=decodeURIComponent(p.getKeywords()).replace(/\+/g," ");e&&(e.selectedIndex=g.indexOf(Y$("select option.WEEKLY",d,!0)))}else YDom.replaceClass(d,"create","update"),k.getSavedSearchIndex(a),h=(h=Y$("td.title a",b,!0)||Y$("td.title span",b,!0))?h.innerHTML:"",l=LI.getDataAttribute(Y$("td.alert",b,!0),"freq-val"),d.name.value=LI.htmlUnencode(h),Y$(".ss-id",d,!0).value=a,e.selectedIndex=g.indexOf(Y$("select option."+l,d,!0));a=b.offsetTop;YDom.addClass(c,
"open");YDom.setStyle(c,"top",a+3+"px");d.name.focus()};h.prototype.closeEditForm=function(){YDom.removeClass(Y$(".form-container",f),"open");YDom.addClass(r,"hide")};g=new h("all","/vsearch/ssj");v.autoOpen&&g.open();(function(){YEvent.on(f,"click",function(a){var b=YEvent.getTarget(a);LI.elOrAncestorHasClass(b,"close-saved-search")?g.close():LI.elOrAncestorHasClass(b,"edit-ss")?(LI.getAncestorByDataAttribute(b,"row-index"),g.openEditForm(parseInt(LI.getDataAttribute(YDom.getAncestorByTagName(b,
"tr"),"ss-id"),10))):LI.elOrAncestorHasClass(b,"cancel-ss")?g.closeEditForm():LI.elOrAncestorHasClass(b,"delete-ss")&&(YEvent.preventDefault(a),b=YDom.hasClass(b,"delete-ss")?b:YDom.getAncestorByClassName(b,"delete-ss"),k.remove(parseInt(LI.getDataAttribute(YDom.getAncestorByTagName(b,"tr"),"ss-id"),10),b.href))});YEvent.on(z,"click",function(a){"save-search"===YEvent.getTarget(a).id&&(YEvent.preventDefault(a),g.open("create"))});YEvent.on("main-search-box","focus",function(){g.close()});YEvent.on(A,
"click",function(a){YEvent.preventDefault(a);g.open()})})();this.close=function(){g.close()}};LI.define("SearchFacets.PaginateSearch");
LI.SearchFacets.PaginateSearch=function(a,d){var c;this.replaceContent=function(b){b.html?a.innerHTML=b.html:b.json&&dust&&dust.render("tl/apps/search/voltron/partial/results_pagination",b.json,function(b,c){a.innerHTML=c?c:""});LI.Controls.parseFragment(a)};c=d.mediator;YEvent.on(a,"click",function(b){var a=YEvent.getTarget(b);"a"===(a.tagName?a.tagName.toLowerCase():"")&&YDom.hasClass(a,"page-link")&&(YEvent.stopEvent(b),c.pub(LI.SearchFacets.Events.resultsPaginate,[{action:"update",param:"page_num",
value:LI.getDataAttribute(a,"page")},{action:"update",param:"pt",value:c.getPrimaryType()}]))})};YAHOO.lang.augmentObject(LI.SearchFacets.Events,{resultsPaginate:"resultsPaginate"});LI.define("SearchFacets.VerticalSelector");LI.SearchFacets.VerticalSelector=function(b,d){this.replaceContent=function(a){a.html?b.innerHTML=a.html:a.json&&dust&&dust.render("tl/apps/search/voltron/partial/search_types",a.json,function(a,c){c&&(b.innerHTML=c)});LI.Controls.parseFragment(b)}};YAHOO.lang.augmentObject(LI.SearchFacets.Events,{primaryTypeChange:"primaryTypeChange",verticalTypeChange:"verticalTypeChange"});LI.define("SearchFacets.MoreFacets");
LI.SearchFacets.MoreFacets=function(d){function e(a,b){var c=Y$("."+f,a,!0);b?(YDom.addClass(a,"open"),c.focus()):(YDom.removeClass(a,"open"),c.value="")}var f="facet-typeahead";YEvent.on(d,"click",function(a){a=YEvent.getTarget(a);var b=YDom.getAncestorByClassName(a,"add-facet-typeahead"),c=YDom.getAncestorByClassName(a,"facet");LI.elOrAncestorHasClass(a,"add-label-wrapper")&&!YDom.hasClass(c,"error")&&e(b,!0)});YEvent.on(d,"focusout",function(a){a=YEvent.getTarget(a);var b=a.parentNode;YDom.hasClass(a,
f)&&e(b,!1)})};LI.define("SearchFacets.FacetLite");
LI.SearchFacets.FacetLite=function(f,k){function l(b){var d=YEvent.getTarget(b),c=d.tagName?d.tagName.toLowerCase():"",a;if("a"!==c||!YDom.hasClass(d,m))if("a"===c||"strong"===c){a=YDom.getAncestorByClassName(d,"facet-suggestion");d=LI.getDataAttribute(a,"f_short_name");c=LI.getDataAttribute(a,"f_value");if(a=Y$("."+g,a,!0))c=a.value;d&&c&&(b.preventDefault(),c=c.split(","),h.pub(LI.SearchFacets.Events.facetSuggestion,[{action:"remove",param:"page_num"},{action:"update",param:"orig",value:"FSUGG"},
{action:"update",param:"f_"+d,value:c}]),e&&e.destroy&&(e.destroy(),e=null))}}var h,m="icon-info",g="facet-suggestion-value",e;h=k.mediator;(function(){YEvent.on(f,"click",l);YEvent.on(f,"focusin",function(b){b=YEvent.getTarget(b);var d=b.tagName?b.tagName.toLowerCase():"",c=YDom.getAncestorByClassName(b,"facet-suggestion");LI.getDataAttribute(c,"f_short_name");if(YDom.hasClass(b,"suggestion-typeahead")&&"input"===d){var d=LI.getDataAttribute(b,"url").replace(/.*(ta|typeahead)\//,""),c=Y$("."+g,b.parentNode,
!0),a;if(!e){switch(d){case "industry":a="TYPE_INDUSTRY";break;case "region":a="TYPE_REGION";break;case "company":a="TYPE_COMPANY";break;case "school":a="TYPE_SCHOOL";break;case "language":a="TYPE_LANGUAGE";break;case "degree":a="TYPE_DEGREE";break;case "mygroup":a="TYPE_MY_GROUPS";break;case "jobfunc":a="TYPE_JOB_FUNCTION";break;case "fieldofstudy":a="TYPE_FIELD_OF_STUDY"}e=new LI.Typeahead2(b,{source:a,handleEventAs:["DEFAULT","USE_NO_RESULTS"],renderAs:["DEFAULT","AUTOCHOOSE"],hiddenField:c,noResultsText:LI.i18n.get("SearchFacets-Network-no-results")||
"No matching results",resultsClass:"facet-suggestion-typeahead-results-container",maxResultsPerSource:10});e.init();b.select()}}})})()};YAHOO.lang.augmentObject(LI.SearchFacets.Events,{facetSuggestion:"facetSuggestion"});LI.define("SearchFacets.Sort");
LI.SearchFacets.Sort=function(b,g){function d(){YEvent.on(e,"submit",function(a){var b=Y$("input[type\x3dradio]:checked",this,!0).value;YEvent.stopEvent(a);c.pub(LI.SearchFacets.Events.sort,[{action:"update",param:"sortBy",value:b},{action:"reset",param:"page_num"}])})}var c=g.mediator,f=Y$(".voltron-sort",b,!0),e=YDom.get("sort-form");YEvent.on(b,"click",function(a){a=YEvent.getTarget(a);var b;"label"===(a.tagName?a.tagName.toLowerCase():"")&&(YDom.removeClass(f,"active"),b=YDom.get(a.htmlFor),YDom.hasClass(a,
"selected")||c.pub(LI.SearchFacets.Events.sort,[{action:"update",param:"sortBy",value:YDom.getAttribute(b,"value")},{action:"reset",param:"page_num"}]))});d();this.replaceContent=function(a){a.json&&a.tlName&&dust&&dust.render(a.tlName,a.json,function(a,c){c&&(b.innerHTML=c,LI.Controls.parseFragment(b),f=Y$(".voltron-sort",b,!0),e=YDom.get("sort-form"),d())})}};YAHOO.lang.augmentObject(LI.SearchFacets.Events,{sort:"sort",newResultsCount:"newResultsCount"});LI.define("SearchFacets.Ads");LI.SearchFacets.Ads=function(c,b){var a,d=b.width,e=b.height,f=b.adsEndpoint||"/vsearch/ad";this.replaceContent=function(b){b.json&&dust&&(c&&!a&&(c.innerHTML="",a=document.createElement("iframe"),a.setAttribute("frameborder","0"),a.setAttribute("border","0"),a.setAttribute("scrolling","no"),a.setAttribute("allowtransparency","true"),c.appendChild(a)),a&&(a.src=f+"?zone\x3d"+b.json.pageKey+"\x26width\x3d"+d+"\x26height\x3d"+e))}};
YAHOO.lang.augmentObject(LI.SearchFacets.Events,{newAd:"newAd"});LI.define("SearchFacets.BackfillSearch");
LI.SearchFacets.BackfillSearch=function(e,b){var f=b.mediator,c=YDom.get("srp_main_"),d=b.tlName,g=b.endpoint,h=YDom.get("empty-results-description-container");this.backfillResults=function(a){var b;a&&a.json&&(b=a.descriptionTl,dust.render(b,a.json,function(b,a){h.innerHTML=a}));YDom.get("no-results-found")&&(a="\x26"+f.getQueryString(),YDom.addClass(c,"loading"),LI.asyncRequest("GET",g+"?tl\x3d"+d+a,{success:function(a){a.responseText&&dust&&(a=a.responseText,dust.render(d,a,function(a,b){"string"===
typeof b&&(e.innerHTML=b,YDom.removeClass(c,"loading"))}))}}))};this.init=function(){this.backfillResults()};this.init()};YAHOO.lang.augmentObject(LI.SearchFacets.Events,{backfillResults:"backfillResults"});(function(){function g(b,a){b&&(this.contextEl=b);this.width=a&&a.width?a.width:75;this.isFlexHeight=a&&a.isFlexHeight;this.relative=a&&a.relative?!0:!1;this.fixed=!(!a||!a.fixed);this.additionalClassName=a&&a.additionalClassName?a.additionalClassName:"";this.overlay=null}var c=window.YDom,d=c.setStyle;g.prototype={getContextEl:function(){return this.contextEl},setContextEl:function(b){this.contextEl=b},resetFixedOverlayPosition:function(b){var a=c.getXY(this.contextEl);b=b?b:0;a&&a.length&&(c.setStyle(this.overlay,
"left",a[0]+"px"),c.setStyle(this.overlay,"top",a[1]-b/2+c.getViewportHeight()/2+"px"))},hide:function(){var b=this.overlay,a;b&&(a=b.parentNode)&&a.removeChild(b)},show:function(b){b=b||this.contextEl;var a=this.overlay,e=b.offsetHeight,h=b.offsetWidth,g=c.getXY(b),f=this.width,e=e<f?f:e,h=h<f?f:h,k=document.body;a||(a=LI.domify('\x3cdiv class\x3d"processing-overlay processing-overlay-'+f+" "+this.additionalClassName+'"\x3e\x3c/div\x3e'),this.relative?b.appendChild(a):k.appendChild(a),this.overlay=
a);a.parentNode!==k&&(this.relative?b.appendChild(a):k.appendChild(a));d(a,"height",this.isFlexHeight?"100%":e+"px");d(a,"width",h+"px");this.relative?(d(a,"left","0"),d(a,"top","0")):this.fixed?(d(a,"position","fixed"),this.resetFixedOverlayPosition(e)):c.setXY(a,g);d(a,"visibility","visible")}};LI.ProcessingOverlay=g})();LI.define("Sticky");
LI.Sticky=function(a,e){function t(){u=v(a.parentNode);n=parseInt(YDom.getStyle(a,"height"),10)}function v(b){var c=0;b=b||a;if(b.offsetParent){do c+=b.offsetTop,b=b.offsetParent;while(b);return c}return a.offsetTop}function w(){h?YDom.addClass(a,h):(YDom.setStyle(a,k,z),YDom.setStyle(a,l,p+q+r));f="sticky"}var h=e.stickyClass||!1,p=e.stickyDistance||0,q=e.fixedHeaderHeight||0,x=e.unstickHeight||0,s=e.resultsLoadedEvtName||"",u,n,k="position",z="fixed",l="top",r="px",y=YDom.getStyle(a,k),g=YDom.getStyle(a,
l),A=LI.Scroller.register(window),m,f="notSticky";a&&"absolute"!==y&&(LI.Events.bind(A,function(b){var c=b.scrollPos+p+q;b=x-b.distToBottom;"notSticky"===f&&(m=v())&&c>=m&&w();if("notSticky"!==f)if(m&&c<m)h?YDom.removeClass(a,h):(YDom.setStyle(a,k,y),g="number"===typeof g?g+r:g,YDom.setStyle(a,l,g)),f="notSticky";else if(0<b&&0>YDom.getViewportHeight()-q-p-n-b){var c=[],d=b=0;YDom.setStyle(a,k,"relative");if(a.parentNode)for(c=a.parentNode.childNodes,d;d<c.length;d++)c[d]!==a&&void 0!==c[d].clientHeight&&
(b+=c[d].clientHeight);YDom.setStyle(a,l,YDom.getDocumentHeight()-u-n-x-b+r);f="footerSticky"}else w()}),"string"===typeof s&&""!==s&&LI.Events.bind(s,function(){window.scrollTo(0,YDom.getDocumentScrollTop()+1)}),t(),YEvent.on(window,"load",function(){t()}))};(function(a){var f=a.requires("Events");a.exports("DebounceEvent",function(c,b,d){var e=!1,a=c===window?"window":c.id;d=d||100;b=b||"scroll";YEvent.on(c,b,function(a){e=!0});setInterval(function(){e&&(e=!1,f.fire("debounced-"+a+"-"+b,a))},d)})})(window.LIModules);LI.define("Scroller");
LI.Scroller=function(){function f(a,c,b){var d;e[c]={evtName:c+"-scroll",scrollPos:"window"===c?YDom.getDocumentScrollTop():YDom.get(c).scrollTop};d=e[c];d.prevScrollPos=d.scrollPos;LI.DebounceEvent(a,"scroll",b||10);a===window?(LI.DebounceEvent(a,"resize",b||10),d.elHeight=YDom.getViewportHeight()):(d.elHeight=a.offsetHeight,d.contentEl=YDom.getFirstChild(a));LI.Events.bind("debounced-"+c+"-scroll",g);a===window&&LI.Events.bind("debounced-window-resize",function(){d.elHeight=YDom.getViewportHeight()})}
function g(a){var c,b=e[a];"undefined"!==typeof b&&(c="window"===a?YDom.getDocumentHeight():b.contentEl.offsetHeight,b.prevScrollPos=b.scrollPos,b.scrollPos="window"===a?YDom.getDocumentScrollTop():YDom.get(a).scrollTop,a=c-(b.scrollPos+b.elHeight),c=b.prevScrollPos>b.scrollPos?"up":"down",LI.Events.fire(b.evtName,{scrollPos:b.scrollPos,distToBottom:a,scrollDirection:c}))}var e={};return{register:function(a,c){var b;b=a===window?"window":a.id;"undefined"===typeof e[b]&&f(a,b,c);return e[b].evtName},
destroyItem:function(a){var c;a=a===window?"window":a.id;c=e[a];"undefined"!==typeof c&&(LI.Events.unbind(c.evtName),delete e[a])}}}();(function(c){var d=c.requires("jquery"),e=c.requires("underscore"),f=c.requires("BaseControl").extend(function(){var c={hiddenClass:"hidden",isHiddenKey:"",hideI18n:"Hide",showI18n:"Show"};return{beforeDecoration:function(){this._config=e.defaults(this._config,c);this.$container=d(this._config.containerSelector);this.isHidden=this.$container.hasClass(this.hiddenClass);this._config.persistState&&this.getState()&&this.hide()},attachEventListeners:function(){var a=this;this._$el.on("click",function(b){b.preventDefault();
a.toggleShowHide()})},getState:function(){this.getState=window.sessionStorage?function(){return"true"===sessionStorage.getItem(this._config.isHiddenKey)}:function(){return!1};this.getState()},setState:function(a){var b=this._config.isHiddenKey;this.setState=window.sessionStorage&&b?function(a){sessionStorage.setItem(b,a.toString());this.isHidden=a}:function(){this.isHidden=a};this.setState(a)},show:function(){var a=this._config.hiddenClass,b=this._$el;this.setState(!1);this.$container.removeClass(a);
b.html(this._config.hideI18n)},hide:function(){var a=this._config.hiddenClass,b=this._$el;this.setState(!0);this.$container.addClass(a);b.html(this._config.showI18n)},toggleShowHide:function(){this.$container.hasClass(this._config.hiddenClass)?this.show():this.hide()}}});c.exports("ShowOrHide",f)})(window.LIModules);